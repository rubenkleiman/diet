{
  "version": 3,
  "sources": ["core/State.js", "core/Router.js", "core/APIClient.js", "managers/DailyPlanManager.js", "managers/MenuManager.js", "managers/RecipeManager.js", "managers/IngredientManager.js", "managers/SettingsManager.js", "renderers/DailyPlanRenderer.js", "renderers/MenuRenderer.js", "renderers/RecipeRenderer.js", "renderers/IngredientRenderer.js", "renderers/FormRenderer.js", "utils/Validation.js", "utils/dom.js", "client.js"],
  "sourcesContent": ["/**\n * State Management Module\n * Provides centralized state with subscription capabilities\n */\n\nclass StateManager {\n  constructor() {\n    this.state = {\n      \n      // Daily Plan data\n      dailyPlans: [],\n      selectedDailyPlanId: null,\n      editingDailyPlanId: null,\n      selectedMenusForDailyPlan: [],\n      showAllDailyNutrients: false,\n      currentDailyNutrientPage: 0,\n      \n      // Menu data \n      menus: [],\n      selectedMenuId: null,\n      editingMenuId: null,\n      selectedRecipesForMenu: [],\n      \n      // Recipe data\n      recipes: [],\n      selectedRecipeId: null,\n      \n      // Ingredient data\n      ingredients: [],\n      selectedIngredientId: null,\n      \n      // Configuration\n      config: {},\n      kidneyStoneRiskData: {},\n      dailyRequirements: {},\n      \n      // User settings\n      userSettings: {\n        caloriesPerDay: 2000,\n        age: null,\n        useAge: false,\n        kidneyStoneRisk: 'Normal'\n      },\n      \n      // UI state\n      currentPage: 'home',\n      showAllNutrients: false,\n      currentNutrientPage: 0,\n      \n      // Recipe editor state\n      editingRecipeId: null,\n      selectedIngredientsForRecipe: [],\n      \n      // Ingredient editor state\n      editingIngredientId: null,\n    };\n    \n    // Subscribers: { key: [callback1, callback2, ...] }\n    this.subscribers = {};\n  }\n\n  /**\n   * Get a value from state\n   */\n  get(key) {\n    return this.state[key];\n  }\n\n  /**\n   * Set a value in state and notify subscribers\n   */\n  set(key, value) {\n    const oldValue = this.state[key];\n    this.state[key] = value;\n    \n    // Notify subscribers if value changed\n    if (oldValue !== value) {\n      this.notify(key, value, oldValue);\n    }\n  }\n\n  /**\n   * Update multiple state values at once\n   */\n  update(updates) {\n    Object.entries(updates).forEach(([key, value]) => {\n      this.set(key, value);\n    });\n  }\n\n  /**\n   * Subscribe to state changes\n   * @param {string} key - State key to watch\n   * @param {Function} callback - Function to call on change\n   * @returns {Function} Unsubscribe function\n   */\n  subscribe(key, callback) {\n    if (!this.subscribers[key]) {\n      this.subscribers[key] = [];\n    }\n    \n    this.subscribers[key].push(callback);\n    \n    // Return unsubscribe function\n    return () => {\n      this.subscribers[key] = this.subscribers[key].filter(cb => cb !== callback);\n    };\n  }\n\n  /**\n   * Notify all subscribers of a state change\n   */\n  notify(key, newValue, oldValue) {\n    if (this.subscribers[key]) {\n      this.subscribers[key].forEach(callback => {\n        callback(newValue, oldValue);\n      });\n    }\n  }\n\n  /**\n   * Get entire state (for debugging)\n   */\n  getAll() {\n    return { ...this.state };\n  }\n\n  /**\n   * Reset state to initial values\n   */\n  reset() {\n    const initialState = {\n      dailyPlans: [],\n      selectedDailyPlanId: null,\n      editingDailyPlanId: null,\n      selectedMenusForDailyPlan: [],\n      showAllDailyNutrients: false,\n      currentDailyNutrientPage: 0,\n      recipes: [],\n      selectedRecipeId: null,\n      ingredients: [],\n      selectedIngredientId: null,\n      menus: [],\n      selectedMenuId: null,\n      editingMenuId: null,\n      selectedRecipesForMenu: [],\n      config: {},\n      kidneyStoneRiskData: {},\n      dailyRequirements: {},\n      userSettings: {\n        caloriesPerDay: 2000,\n        age: null,\n        useAge: false,\n        kidneyStoneRisk: 'Normal'\n      },\n      currentPage: 'home',\n      showAllNutrients: false,\n      currentNutrientPage: 0,\n      editingRecipeId: null,\n      selectedIngredientsForRecipe: [],\n      editingIngredientId: null,\n    };\n    \n    Object.entries(initialState).forEach(([key, value]) => {\n      this.set(key, value);\n    });\n  }\n}\n\n// Export singleton instance\nexport const State = new StateManager();\n", "/**\n * Router Module\n * Handles page navigation and URL history\n */\n\nimport { State } from './State.js';\n\nclass RouterManager {\n  constructor() {\n    this.routes = new Map();\n    this.currentRoute = null;\n    this.beforeNavigateHooks = [];\n    this.afterNavigateHooks = [];\n  }\n\n  /**\n   * Initialize router and set up event listeners\n   */\n  init() {\n    // Handle browser back/forward\n    window.addEventListener('popstate', (event) => {\n      const page = event.state?.page || 'home';\n      this.navigateTo(page, false);\n    });\n\n    // Handle initial page from URL\n    const initialPage = window.location.hash.slice(1) || 'home';\n    this.navigateTo(initialPage, false);\n  }\n\n  /**\n   * Register a route\n   * @param {string} name - Route name\n   * @param {Function} handler - Function to call when navigating to this route\n   */\n  register(name, handler) {\n    this.routes.set(name, handler);\n  }\n\n  /**\n   * Navigate to a page\n   * @param {string} page - Page name\n   * @param {boolean} pushState - Whether to update browser history\n   */\n  navigateTo(page, pushState = true) {\n    // Run before-navigate hooks\n    for (const hook of this.beforeNavigateHooks) {\n      const result = hook(page, this.currentRoute);\n      if (result === false) {\n        return; // Cancel navigation\n      }\n    }\n\n    // Update state\n    State.set('currentPage', page);\n    \n    // Scroll to top\n    window.scrollTo(0, 0);\n\n    // Remove active class from all pages\n    document.querySelectorAll('.page').forEach(p => {\n      p.classList.remove('active');\n    });\n\n    // Add active class to target page\n    const pageElement = document.getElementById(`${page}Page`);\n    if (pageElement) {\n      pageElement.classList.add('active');\n\n      // Update URL without reloading\n      if (pushState) {\n        history.pushState({ page }, '', `#${page}`);\n      }\n\n      // Call registered route handler\n      const handler = this.routes.get(page);\n      if (handler) {\n        handler();\n      }\n\n      this.currentRoute = page;\n\n      // Run after-navigate hooks\n      for (const hook of this.afterNavigateHooks) {\n        hook(page);\n      }\n    } else {\n      console.warn(`Page not found: ${page}`);\n    }\n  }\n\n  /**\n   * Get current route\n   */\n  getCurrentRoute() {\n    return this.currentRoute;\n  }\n\n  /**\n   * Add a hook to run before navigation\n   * @param {Function} hook - Function that receives (toPage, fromPage)\n   */\n  beforeNavigate(hook) {\n    this.beforeNavigateHooks.push(hook);\n  }\n\n  /**\n   * Add a hook to run after navigation\n   * @param {Function} hook - Function that receives (page)\n   */\n  afterNavigate(hook) {\n    this.afterNavigateHooks.push(hook);\n  }\n\n  /**\n   * Navigate back\n   */\n  back() {\n    window.history.back();\n  }\n\n  /**\n   * Navigate forward\n   */\n  forward() {\n    window.history.forward();\n  }\n}\n\n// Export singleton instance\nexport const Router = new RouterManager();\n", "/**\n * API Client Module\n * Centralized API communication layer\n */\n\nclass APIClientManager {\n  constructor() {\n    this.baseURL = '/api';\n  }\n\n  /**\n   * Generic fetch wrapper with error handling\n   */\n  async request(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n\n    try {\n      const data = {\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers,\n        },\n        ...options,\n      };\n      // console.log(`APIClient URL: ${url} DATA:\\n${JSON.stringify(data)}`)\n      const response = await fetch(url, data);\n      // console.log(`RESPONSE: ${response.ok ? 'success':'failure'} URL: ${url} DATA:\\n${JSON.stringify(data)}`)\n\n      if (!response.ok) {\n        throw Error(`Response error. URL ${url}`)\n      }\n      const result = await response.json();\n      // console.log(`JSON: ${url} DATATYPE: ${typeof data} DATALEN:${typeof data == \"object\" ? Object.keys(data).length : data?.length} DATA:\\n${JSON.stringify(data)}`)\n      return result;\n    } catch (error) {\n      console.error(`API Error (${endpoint}):`, error);\n      return {\n        success: false,\n        error: error.message || 'Network error',\n      };\n    }\n  }\n\n  // ===== CONFIG ENDPOINTS =====\n\n  async getConfig() {\n    return await this.request('/config');\n  }\n\n  async getKidneyStoneRisk() {\n    return await this.request('/kidney-stone-risk');\n  }\n\n  async getDailyRequirements() {\n    return await this.request('/daily-requirements');\n  }\n\n  // ===== RECIPE ENDPOINTS =====\n\n  /**\n   * Get all recipes\n   * @param {string} search - Optional search term\n   */\n  async getRecipes(search = '') {\n    const endpoint = search ? `/recipes?search=${encodeURIComponent(search)}` : '/recipes';\n    return await this.request(endpoint);\n  }\n\n  /**\n   * Get a single recipe with details\n   * @param {string} id - Recipe ID\n   * @param {boolean} summary - Whether to get summary only\n   */\n  async getRecipe(id, summary = false) {\n    return await this.request(`/recipes/${id}?summary=${summary}`);\n  }\n\n  /**\n   * Get full recipe details (for editing)\n   * @param {string} id - Recipe ID\n   */\n  async getRecipeFull(id) {\n    return await this.request(`/recipes/${id}/full`);\n  }\n\n  /**\n   * Create a new recipe\n   * @param {Object} recipeData - { name, ingredients: [{ brandId, amount, unit }] }\n   */\n  async createRecipe(recipeData) {\n    return await this.request('/recipes', {\n      method: 'POST',\n      body: JSON.stringify(recipeData),\n    });\n  }\n\n  /**\n   * Update a recipe\n   * @param {string} id - Recipe ID\n   * @param {Object} recipeData - { name, ingredients: [{ brandId, amount, unit }] }\n   */\n  async updateRecipe(id, recipeData) {\n    return await this.request(`/recipes/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(recipeData),\n    });\n  }\n\n  /**\n   * Delete a recipe\n   * @param {string} id - Recipe ID\n   */\n  async deleteRecipe(id) {\n    return await this.request(`/recipes/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // ===== INGREDIENT ENDPOINTS =====\n\n  /**\n   * Get all ingredients\n   * @param {string} search - Optional search term\n   */\n  async getIngredients(search = '') {\n    const endpoint = search ? `/ingredients?search=${encodeURIComponent(search)}` : '/ingredients';\n    return await this.request(endpoint);\n  }\n\n  /**\n   * Get a single ingredient\n   * @param {string} id - Ingredient ID\n   */\n  async getIngredient(id) {\n    return await this.request(`/ingredients/${id}`);\n  }\n\n  /**\n   * Get full ingredient details (for editing)\n   * @param {string} id - Ingredient ID\n   */\n  async getIngredientFull(id) {\n    return await this.request(`/ingredients/${id}/full`);\n  }\n\n  /**\n   * Create a new ingredient\n   * @param {Object} ingredientData - { name, serving, servingUnit, density, oxalatePerGram, data }\n   */\n  async createIngredient(ingredientData) {\n    return await this.request('/ingredients', {\n      method: 'POST',\n      body: JSON.stringify(ingredientData),\n    });\n  }\n\n  /**\n   * Update an ingredient\n   * @param {string} id - Ingredient ID\n   * @param {Object} ingredientData - { name, serving, servingUnit, density, oxalatePerGram, data }\n   */\n  async updateIngredient(id, ingredientData) {\n    return await this.request(`/ingredients/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(ingredientData),\n    });\n  }\n\n  /**\n   * Delete an ingredient\n   * @param {string} id - Ingredient ID\n   */\n  async deleteIngredient(id) {\n    return await this.request(`/ingredients/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // ===== MENU ENDPOINTS =====\n\n  /**\n   * Get all menus\n   * @param {string} search - Optional search term\n   */\n  async getMenus(search = '') {\n    const endpoint = search ? `/menus?search=${encodeURIComponent(search)}` : '/menus';\n    return await this.request(endpoint);\n  }\n\n  /**\n   * Get a single menu with details\n   * @param {string} id - Menu ID\n   */\n  async getMenu(id) {\n    return await this.request(`/menus/${id}`);\n  }\n\n  /**\n   * Create a new menu\n   * @param {Object} menuData - { name, recipeIds: [recipeId1, recipeId2, ...] }\n   */\n  async createMenu(menuData) {\n    return await this.request('/menus', {\n      method: 'POST',\n      body: JSON.stringify(menuData),\n    });\n  }\n\n  /**\n   * Update a menu\n   * @param {string} id - Menu ID\n   * @param {Object} menuData - { name, recipeIds: [recipeId1, recipeId2, ...] }\n   */\n  async updateMenu(id, menuData) {\n    return await this.request(`/menus/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(menuData),\n    });\n  }\n\n  /**\n   * Delete a menu\n   * @param {string} id - Menu ID\n   */\n  async deleteMenu(id) {\n    return await this.request(`/menus/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // ===== DAILY PLAN ENDPOINTS =====\n\n  /**\n   * Get all daily plans\n   * @param {string} search - Optional search term\n   */\n  async getDailyPlans(search = '') {\n    const endpoint = search ? `/daily-plans?search=${encodeURIComponent(search)}` : '/daily-plans';\n    return await this.request(endpoint);\n  }\n\n  /**\n   * Get a single daily plan with details\n   * @param {string} id - Daily Plan ID\n   */\n  async getDailyPlan(id) {\n    return await this.request(`/daily-plans/${id}`);\n  }\n\n  /**\n   * Create a new daily plan\n   * @param {Object} dailyPlanData - { name, dailyPlanMenus: [{ menuId, type }, ...] }\n   */\n  async createDailyPlan(dailyPlanData) {\n    return await this.request('/daily-plans', {\n      method: 'POST',\n      body: JSON.stringify(dailyPlanData),\n    });\n  }\n\n  /**\n   * Update a daily plan\n   * @param {string} id - Daily Plan ID\n   * @param {Object} dailyPlanData - { name, dailyPlanMenus: [{ menuId, type }, ...] }\n   */\n  async updateDailyPlan(id, dailyPlanData) {\n    return await this.request(`/daily-plans/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(dailyPlanData),\n    });\n  }\n\n  /**\n   * Delete a daily plan\n   * @param {string} id - Daily Plan ID\n   */\n  async deleteDailyPlan(id) {\n    return await this.request(`/daily-plans/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // ===== UTILITY METHODS =====\n\n  /**\n   * Check if response is successful\n   */\n  isSuccess(response) {\n    return response && response.success === true;\n  }\n\n  /**\n   * Extract error message from response\n   */\n  getError(response) {\n    return response?.error || 'Unknown error occurred';\n  }\n\n  /**\n   * Extract data from successful response\n   */\n  getData(response) {\n    return this.isSuccess(response) ? response.data : null;\n  }\n}\n\n// Export singleton instance\nexport const APIClient = new APIClientManager();\n", "/**\n * Daily Plan Manager\n * Handles all daily plan-related operations\n */\n\nimport { State } from '../core/State.js';\nimport { APIClient } from '../core/APIClient.js';\n\nexport class DailyPlanManager {\n  \n  /**\n   * Load all daily plans from API\n   */\n  async loadDailyPlans() {\n    try {\n      const result = await APIClient.getDailyPlans();\n      \n      if (APIClient.isSuccess(result)) {\n        State.set('dailyPlans', result.data);\n        return result.data;\n      } else {\n        console.error('Error loading daily plans:', APIClient.getError(result));\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading daily plans:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get daily plan by ID\n   */\n  async getDailyPlan(id) {\n    try {\n      const result = await APIClient.getDailyPlan(id);\n      \n      if (APIClient.isSuccess(result)) {\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading daily plan:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Create a new daily plan\n   */\n  async createDailyPlan(dailyPlanData) {\n    try {\n      const result = await APIClient.createDailyPlan(dailyPlanData);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadDailyPlans(); // Refresh list\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error creating daily plan:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update an existing daily plan\n   */\n  async updateDailyPlan(id, dailyPlanData) {\n    try {\n      const result = await APIClient.updateDailyPlan(id, dailyPlanData);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadDailyPlans(); // Refresh list\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error updating daily plan:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Delete a daily plan\n   */\n  async deleteDailyPlan(id) {\n    try {\n      const result = await APIClient.deleteDailyPlan(id);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadDailyPlans(); // Refresh list\n        return true;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error deleting daily plan:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Select a daily plan\n   */\n  selectDailyPlan(dailyPlanId) {\n    State.set('selectedDailyPlanId', dailyPlanId);\n  }\n\n  /**\n   * Deselect daily plan\n   */\n  deselectDailyPlan() {\n    State.set('selectedDailyPlanId', null);\n  }\n\n  /**\n   * Filter daily plans by search term\n   */\n  filterDailyPlans(searchTerm) {\n    const dailyPlans = State.get('dailyPlans');\n    const term = searchTerm.toLowerCase().trim();\n\n    if (!term) {\n      return dailyPlans;\n    }\n\n    return dailyPlans.filter(plan =>\n      plan.name.toLowerCase().includes(term)\n    );\n  }\n\n  /**\n   * Start editing a daily plan\n   */\n  startEdit(dailyPlanId = null) {\n    State.set('editingDailyPlanId', dailyPlanId);\n    \n    if (dailyPlanId === null) {\n      // Creating new daily plan\n      State.set('selectedMenusForDailyPlan', []);\n    }\n  }\n\n  /**\n   * Cancel editing\n   */\n  cancelEdit() {\n    State.set('editingDailyPlanId', null);\n    State.set('selectedMenusForDailyPlan', []);\n  }\n\n  /**\n   * Add menu to daily plan being edited\n   */\n  addMenuToDailyPlan(menu) {\n    const selected = State.get('selectedMenusForDailyPlan');\n\n    // Allow multiple instances of same menu\n    selected.push({\n      menuId: menu.id,\n      name: menu.name,\n      type: 'Other' // Default type\n    });\n\n    State.set('selectedMenusForDailyPlan', [...selected]);\n    return true;\n  }\n\n  /**\n   * Remove menu from daily plan being edited\n   */\n  removeMenuFromDailyPlan(index) {\n    const selected = State.get('selectedMenusForDailyPlan');\n    selected.splice(index, 1);\n    State.set('selectedMenusForDailyPlan', [...selected]);\n  }\n\n  /**\n   * Update menu type in daily plan being edited\n   */\n  updateMenuType(index, type) {\n    const selected = State.get('selectedMenusForDailyPlan');\n    selected[index].type = type;\n    State.set('selectedMenusForDailyPlan', [...selected]);\n  }\n\n  /**\n   * Calculate oxalate risk for daily plan\n   */\n  calculateOxalateRisk(oxalateMg) {\n    const userSettings = State.get('userSettings');\n    const kidneyStoneRiskData = State.get('kidneyStoneRiskData');\n    \n    const maxOxalates = kidneyStoneRiskData[userSettings.kidneyStoneRisk]?.maxOxalatesPerDay || 200;\n    const percent = (oxalateMg / maxOxalates) * 100;\n\n    if (percent < 50) {\n      return { status: 'safe', percent, color: '#27ae60', message: '' };\n    } else if (percent < 100) {\n      return {\n        status: 'warning',\n        percent,\n        color: '#b8860b',\n        message: `Approaching your daily oxalate limit (${maxOxalates}mg)`\n      };\n    } else {\n      return {\n        status: 'danger',\n        percent,\n        color: '#e74c3c',\n        message: `Exceeds your daily oxalate limit (${maxOxalates}mg). This daily plan contains ${oxalateMg.toFixed(1)}mg oxalates, which is ${(percent - 100).toFixed(0)}% over your ${userSettings.kidneyStoneRisk.toLowerCase()} risk limit.`\n      };\n    }\n  }\n}\n", "/**\n * Menu Manager\n * Handles all menu-related operations\n */\n\nimport { State } from '../core/State.js';\nimport { APIClient } from '../core/APIClient.js';\n\nexport class MenuManager {\n  \n  /**\n   * Load all menus from API\n   */\n  async loadMenus() {\n    try {\n      const result = await APIClient.getMenus();\n      \n      if (APIClient.isSuccess(result)) {\n        State.set('menus', result.data);\n        return result.data;\n      } else {\n        console.error('Error loading menus:', APIClient.getError(result));\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading menus:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get menu by ID\n   */\n  async getMenu(id) {\n    try {\n      const result = await APIClient.getMenu(id);\n      \n      if (APIClient.isSuccess(result)) {\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading menu:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Create a new menu\n   */\n  async createMenu(menuData) {\n    try {\n      const result = await APIClient.createMenu(menuData);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadMenus(); // Refresh list\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error creating menu:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update an existing menu\n   */\n  async updateMenu(id, menuData) {\n    try {\n      const result = await APIClient.updateMenu(id, menuData);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadMenus(); // Refresh list\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error updating menu:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Delete a menu\n   */\n  async deleteMenu(id) {\n    try {\n      const result = await APIClient.deleteMenu(id);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadMenus(); // Refresh list\n        return true;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error deleting menu:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Select a menu\n   */\n  selectMenu(menuId) {\n    State.set('selectedMenuId', menuId);\n  }\n\n  /**\n   * Deselect menu\n   */\n  deselectMenu() {\n    State.set('selectedMenuId', null);\n  }\n\n  /**\n   * Filter menus by search term\n   */\n  filterMenus(searchTerm) {\n    const menus = State.get('menus');\n    const term = searchTerm.toLowerCase().trim();\n\n    if (!term) {\n      return menus;\n    }\n\n    return menus.filter(menu =>\n      menu.name.toLowerCase().includes(term)\n    );\n  }\n\n  /**\n   * Start editing a menu\n   */\n  startEdit(menuId = null) {\n    State.set('editingMenuId', menuId);\n    \n    if (menuId === null) {\n      // Creating new menu\n      State.set('selectedRecipesForMenu', []);\n    }\n  }\n\n  /**\n   * Cancel editing\n   */\n  cancelEdit() {\n    State.set('editingMenuId', null);\n    State.set('selectedRecipesForMenu', []);\n  }\n\n  /**\n   * Add recipe to menu being edited\n   */\n  addRecipeToMenu(recipe) {\n    const selected = State.get('selectedRecipesForMenu');\n    \n    // Check if already added\n    if (selected.some(r => r.id === recipe.id)) {\n      return false;\n    }\n\n    selected.push({\n      id: recipe.id,\n      name: recipe.name\n    });\n\n    State.set('selectedRecipesForMenu', [...selected]);\n    return true;\n  }\n\n  /**\n   * Remove recipe from menu being edited\n   */\n  removeRecipeFromMenu(index) {\n    const selected = State.get('selectedRecipesForMenu');\n    selected.splice(index, 1);\n    State.set('selectedRecipesForMenu', [...selected]);\n  }\n\n  /**\n   * Fetch recipe details and aggregate nutritional data\n   */\n  async getMenuNutritionalData(menu) {\n    try {\n      // Fetch all recipe details\n      const recipePromises = menu.recipeIds.map(recipeId => \n        APIClient.getRecipe(recipeId, false)\n      );\n      \n      const recipeResults = await Promise.all(recipePromises);\n      \n      // Extract recipe data\n      const recipes = recipeResults\n        .filter(result => APIClient.isSuccess(result))\n        .map(result => result.data);\n\n      if (recipes.length === 0) {\n        throw new Error('No recipes found in menu');\n      }\n\n      // Aggregate nutritional data\n      const aggregated = this.aggregateNutrition(recipes);\n      \n      return {\n        menuId: menu.id,\n        menuName: menu.name,\n        recipes: recipes,\n        totals: aggregated.totals,\n        oxalateMg: aggregated.oxalateMg,\n        dashAdherence: aggregated.dashAdherence,\n        dashReasons: aggregated.dashReasons,\n        oxalateLevel: aggregated.oxalateLevel\n      };\n    } catch (error) {\n      console.error('Error fetching menu nutritional data:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Aggregate nutrition from multiple recipes\n   */\n  aggregateNutrition(recipes) {\n    const totals = {};\n    let totalOxalates = 0;\n    const dashAdherenceList = [];\n    const dashReasonsList = [];\n    const oxalateLevelList = [];\n\n    recipes.forEach(recipe => {\n      // Sum up totals\n      for (const [nutrient, value] of Object.entries(recipe.totals || {})) {\n        if (!totals[nutrient]) {\n          totals[nutrient] = 0;\n        }\n        totals[nutrient] += value;\n      }\n\n      // Sum oxalates\n      totalOxalates += recipe.oxalateMg || 0;\n\n      // Collect DASH adherence info\n      if (recipe.dashAdherence) {\n        dashAdherenceList.push(recipe.dashAdherence);\n      }\n      if (recipe.dashReasons) {\n        dashReasonsList.push(`${recipe.name}: ${recipe.dashReasons}`);\n      }\n      if (recipe.oxalateLevel) {\n        oxalateLevelList.push(recipe.oxalateLevel);\n      }\n    });\n\n    // Determine overall DASH adherence\n    const dashAdherence = this.calculateOverallDashAdherence(dashAdherenceList);\n    const dashReasons = dashReasonsList.join('; ');\n\n    // Determine overall oxalate level\n    const oxalateLevel = this.calculateOverallOxalateLevel(totalOxalates);\n\n    return {\n      totals,\n      oxalateMg: totalOxalates,\n      dashAdherence,\n      dashReasons,\n      oxalateLevel\n    };\n  }\n\n  /**\n   * Calculate overall DASH adherence from multiple recipes\n   */\n  calculateOverallDashAdherence(adherenceList) {\n    if (adherenceList.length === 0) return 'Unknown';\n\n    const counts = {};\n    adherenceList.forEach(adherence => {\n      counts[adherence] = (counts[adherence] || 0) + 1;\n    });\n\n    // If majority are \"Good\", return \"Good\"\n    // If any are \"Poor\", return \"Fair\" or \"Poor\" depending on count\n    if (counts['Poor'] && counts['Poor'] > adherenceList.length / 2) {\n      return 'Poor';\n    }\n    if (counts['Good'] && counts['Good'] > adherenceList.length / 2) {\n      return 'Good';\n    }\n    return 'Fair';\n  }\n\n  /**\n   * Calculate overall oxalate level based on total mg\n   */\n  calculateOverallOxalateLevel(totalOxalates) {\n    if (totalOxalates < 50) return 'Low';\n    if (totalOxalates < 100) return 'Moderate';\n    if (totalOxalates < 200) return 'High';\n    return 'Very High';\n  }\n\n  /**\n   * Calculate oxalate risk for menu\n   */\n  calculateOxalateRisk(oxalateMg) {\n    const userSettings = State.get('userSettings');\n    const kidneyStoneRiskData = State.get('kidneyStoneRiskData');\n    \n    const maxOxalates = kidneyStoneRiskData[userSettings.kidneyStoneRisk]?.maxOxalatesPerDay || 200;\n    const percent = (oxalateMg / maxOxalates) * 100;\n\n    if (percent < 50) {\n      return { status: 'safe', percent, color: '#27ae60', message: '' };\n    } else if (percent < 100) {\n      return {\n        status: 'warning',\n        percent,\n        color: '#b8860b',\n        message: `Approaching your daily oxalate limit (${maxOxalates}mg)`\n      };\n    } else {\n      return {\n        status: 'danger',\n        percent,\n        color: '#e74c3c',\n        message: `Exceeds your daily oxalate limit (${maxOxalates}mg). This menu contains ${oxalateMg.toFixed(1)}mg oxalates, which is ${(percent - 100).toFixed(0)}% over your ${userSettings.kidneyStoneRisk.toLowerCase()} risk limit.`\n      };\n    }\n  }\n}\n", "/**\n * Recipe Manager\n * Handles all recipe-related operations\n */\n\nimport { State } from '../core/State.js';\nimport { APIClient } from '../core/APIClient.js';\n\nexport class RecipeManager {\n  constructor() {\n    this.NUTRIENTS_PER_PAGE = 5;\n  }\n\n  /**\n   * Load all recipes from API\n   */\n  async loadRecipes() {\n    try {\n      const result = await APIClient.getRecipes();\n      \n      if (APIClient.isSuccess(result)) {\n        State.set('recipes', result.data);\n        return result.data;\n      } else {\n        console.error('Error loading recipes:', APIClient.getError(result));\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading recipes:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get recipe by ID with details\n   */\n  async getRecipe(id, summary = false) {\n    try {\n      const result = await APIClient.getRecipe(id, summary);\n      \n      if (APIClient.isSuccess(result)) {\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading recipe:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get full recipe details for editing\n   */\n  async getRecipeFull(id) {\n    try {\n      const result = await APIClient.getRecipeFull(id);\n      \n      if (APIClient.isSuccess(result)) {\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading recipe for editing:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Create a new recipe\n   */\n  async createRecipe(recipeData) {\n    try {\n      const result = await APIClient.createRecipe(recipeData);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadRecipes(); // Refresh list\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error creating recipe:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update an existing recipe\n   */\n  async updateRecipe(id, recipeData) {\n    try {\n      const result = await APIClient.updateRecipe(id, recipeData);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadRecipes(); // Refresh list\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error updating recipe:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Delete a recipe\n   */\n  async deleteRecipe(id) {\n    try {\n      const result = await APIClient.deleteRecipe(id);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadRecipes(); // Refresh list\n        return true;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error deleting recipe:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Select a recipe\n   */\n  selectRecipe(recipeId) {\n    State.set('selectedRecipeId', recipeId);\n  }\n\n  /**\n   * Deselect recipe\n   */\n  deselectRecipe() {\n    State.set('selectedRecipeId', null);\n  }\n\n  /**\n   * Filter recipes by search term\n   */\n  filterRecipes(searchTerm) {\n    const recipes = State.get('recipes');\n    const term = searchTerm.toLowerCase().trim();\n\n    if (!term) {\n      return recipes;\n    }\n\n    return recipes.filter(recipe =>\n      recipe.name.toLowerCase().includes(term)\n    );\n  }\n\n  /**\n   * Calculate oxalate risk\n   */\n  calculateOxalateRisk(oxalateMg) {\n    const userSettings = State.get('userSettings');\n    const kidneyStoneRiskData = State.get('kidneyStoneRiskData');\n    \n    const maxOxalates = kidneyStoneRiskData[userSettings.kidneyStoneRisk]?.maxOxalatesPerDay || 200;\n    const percent = (oxalateMg / maxOxalates) * 100;\n\n    if (percent < 50) {\n      return { status: 'safe', percent, color: '#27ae60', message: '' };\n    } else if (percent < 100) {\n      return {\n        status: 'warning',\n        percent,\n        color: '#b8860b',\n        message: `Approaching your daily oxalate limit (${maxOxalates}mg)`\n      };\n    } else {\n      return {\n        status: 'danger',\n        percent,\n        color: '#e74c3c',\n        message: `Exceeds your daily oxalate limit (${maxOxalates}mg). This recipe contains ${oxalateMg.toFixed(1)}mg oxalates, which is ${(percent - 100).toFixed(0)}% over your ${userSettings.kidneyStoneRisk.toLowerCase()} risk limit.`\n      };\n    }\n  }\n\n  /**\n   * Calculate ingredient contributions\n   */\n  calculateContributions(recipeData) {\n    const contributions = {};\n\n    recipeData.ingredients.forEach(ingredient => {\n      contributions[ingredient.name] = {\n        amount: ingredient.amount,\n        nutrients: {}\n      };\n\n      for (const [nutrient, value] of Object.entries(ingredient.nutritionScaled)) {\n        const total = recipeData.totals[nutrient] || 0;\n        const percent = total > 0 ? (value / total * 100) : 0;\n        contributions[ingredient.name].nutrients[nutrient] = {\n          value: value,\n          percent: percent\n        };\n      }\n    });\n\n    return contributions;\n  }\n\n  /**\n   * Start editing a recipe\n   */\n  startEdit(recipeId = null) {\n    State.set('editingRecipeId', recipeId);\n    \n    if (recipeId === null) {\n      // Creating new recipe\n      State.set('selectedIngredientsForRecipe', []);\n    }\n  }\n\n  /**\n   * Cancel editing\n   */\n  cancelEdit() {\n    State.set('editingRecipeId', null);\n    State.set('selectedIngredientsForRecipe', []);\n  }\n\n  /**\n   * Add ingredient to recipe being edited\n   */\n  addIngredientToRecipe(ingredient) {\n    const selected = State.get('selectedIngredientsForRecipe');\n    \n    // Check if already added\n    if (selected.some(ing => ing.brandId === ingredient.id)) {\n      return false;\n    }\n\n    selected.push({\n      brandId: ingredient.id,\n      name: ingredient.name,\n      amount: 100,\n      unit: 'g'\n    });\n\n    State.set('selectedIngredientsForRecipe', [...selected]);\n    return true;\n  }\n\n  /**\n   * Remove ingredient from recipe being edited\n   */\n  removeIngredientFromRecipe(index) {\n    const selected = State.get('selectedIngredientsForRecipe');\n    selected.splice(index, 1);\n    State.set('selectedIngredientsForRecipe', [...selected]);\n  }\n\n  /**\n   * Update ingredient amount in recipe being edited\n   */\n  updateIngredientAmount(index, amount) {\n    const selected = State.get('selectedIngredientsForRecipe');\n    selected[index].amount = parseFloat(amount);\n    State.set('selectedIngredientsForRecipe', [...selected]);\n  }\n\n  /**\n   * Update ingredient unit in recipe being edited\n   */\n  updateIngredientUnit(index, unit) {\n    const selected = State.get('selectedIngredientsForRecipe');\n    selected[index].unit = unit;\n    State.set('selectedIngredientsForRecipe', [...selected]);\n  }\n\n  /**\n   * Toggle nutrient view (key vs all)\n   */\n  toggleNutrientView() {\n    const current = State.get('showAllNutrients');\n    State.set('showAllNutrients', !current);\n    State.set('currentNutrientPage', 0);\n  }\n\n  /**\n   * Navigate to previous nutrient page\n   */\n  prevNutrientPage() {\n    const current = State.get('currentNutrientPage');\n    if (current > 0) {\n      State.set('currentNutrientPage', current - 1);\n    }\n  }\n\n  /**\n   * Navigate to next nutrient page\n   */\n  nextNutrientPage() {\n    State.set('currentNutrientPage', State.get('currentNutrientPage') + 1);\n  }\n}\n", "/**\n * Ingredient Manager\n * Handles all ingredient-related operations\n */\n\nimport { State } from '../core/State.js';\nimport { APIClient } from '../core/APIClient.js';\n\nexport class IngredientManager {\n  \n  /**\n   * Load all ingredients from API\n   */\n  async loadIngredients() {\n    try {\n      const result = await APIClient.getIngredients();\n      \n      if (APIClient.isSuccess(result)) {\n        State.set('ingredients', result.data);\n        return result.data;\n      } else {\n        console.error('Error loading ingredients:', APIClient.getError(result));\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading ingredients:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get ingredient by ID\n   */\n  async getIngredient(id) {\n    try {\n      const result = await APIClient.getIngredient(id);\n      \n      if (APIClient.isSuccess(result)) {\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading ingredient:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get full ingredient details for editing\n   */\n  async getIngredientFull(id) {\n    try {\n      const result = await APIClient.getIngredientFull(id);\n      \n      if (APIClient.isSuccess(result)) {\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading ingredient for editing:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Create a new ingredient\n   */\n  async createIngredient(ingredientData) {\n    try {\n      const result = await APIClient.createIngredient(ingredientData);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadIngredients(); // Refresh list\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error creating ingredient:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Update an existing ingredient\n   */\n  async updateIngredient(id, ingredientData) {\n    try {\n      const result = await APIClient.updateIngredient(id, ingredientData);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadIngredients(); // Refresh list\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error updating ingredient:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Delete an ingredient\n   */\n  async deleteIngredient(id) {\n    try {\n      const result = await APIClient.deleteIngredient(id);\n      \n      if (APIClient.isSuccess(result)) {\n        await this.loadIngredients(); // Refresh list\n        return true;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error deleting ingredient:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Search ingredients\n   */\n  async searchIngredients(searchTerm) {\n    try {\n      const result = await APIClient.getIngredients(searchTerm);\n      \n      if (APIClient.isSuccess(result)) {\n        return result.data;\n      } else {\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error searching ingredients:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Select an ingredient\n   */\n  selectIngredient(ingredientId) {\n    State.set('selectedIngredientId', ingredientId);\n  }\n\n  /**\n   * Deselect ingredient\n   */\n  deselectIngredient() {\n    State.set('selectedIngredientId', null);\n  }\n\n  /**\n   * Filter ingredients by search term\n   */\n  filterIngredients(searchTerm) {\n    const ingredients = State.get('ingredients');\n    const term = searchTerm.toLowerCase().trim();\n\n    if (!term) {\n      return ingredients;\n    }\n\n    return ingredients.filter(ing =>\n      ing.name.toLowerCase().includes(term)\n    );\n  }\n\n  /**\n   * Start editing an ingredient\n   */\n  startEdit(ingredientId = null) {\n    State.set('editingIngredientId', ingredientId);\n  }\n\n  /**\n   * Cancel editing\n   */\n  cancelEdit() {\n    State.set('editingIngredientId', null);\n  }\n}\n", "/**\n * Settings Manager\n * Handles user settings and configuration\n */\n\nimport { State } from '../core/State.js';\nimport { APIClient } from '../core/APIClient.js';\n\nexport class SettingsManager {\n  \n  /**\n   * Load user settings from localStorage\n   */\n  loadUserSettings() {\n    const saved = localStorage.getItem('userSettings');\n    if (saved) {\n      try {\n        const settings = JSON.parse(saved);\n        State.set('userSettings', settings);\n        return settings;\n      } catch (error) {\n        console.error('Error parsing saved settings:', error);\n      }\n    }\n    \n    // Return default settings\n    return State.get('userSettings');\n  }\n\n  /**\n   * Save user settings to localStorage\n   */\n  saveUserSettings(settings = null) {\n    const toSave = settings || State.get('userSettings');\n    localStorage.setItem('userSettings', JSON.stringify(toSave));\n    \n    if (settings) {\n      State.set('userSettings', settings);\n    }\n  }\n\n  /**\n   * Update user settings\n   */\n  updateSettings(updates) {\n    const current = State.get('userSettings');\n    const updated = { ...current, ...updates };\n    this.saveUserSettings(updated);\n    return updated;\n  }\n\n  /**\n   * Load configuration from API\n   */\n  async loadConfig() {\n    try {\n      const result = await APIClient.getConfig();\n      \n      if (APIClient.isSuccess(result)) {\n        State.set('config', result.data);\n        return result.data;\n      } else {\n        console.error('Error loading config:', APIClient.getError(result));\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading config:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Load kidney stone risk data from API\n   */\n  async loadKidneyStoneRiskData() {\n    try {\n      const result = await APIClient.getKidneyStoneRisk();\n      \n      if (APIClient.isSuccess(result)) {\n        State.set('kidneyStoneRiskData', result.data);\n        return result.data;\n      } else {\n        console.error('Error loading kidney stone risk data:', APIClient.getError(result));\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading kidney stone risk data:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Load daily requirements from API\n   */\n  async loadDailyRequirements() {\n    try {\n      const result = await APIClient.getDailyRequirements();\n      \n      if (APIClient.isSuccess(result)) {\n        State.set('dailyRequirements', result.data);\n        return result.data;\n      } else {\n        console.error('Error loading daily requirements:', APIClient.getError(result));\n        throw new Error(APIClient.getError(result));\n      }\n    } catch (error) {\n      console.error('Error loading daily requirements:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get kidney stone risk info for a specific risk level\n   */\n  getKidneyRiskInfo(riskLevel) {\n    const kidneyStoneRiskData = State.get('kidneyStoneRiskData');\n    return kidneyStoneRiskData[riskLevel] || null;\n  }\n\n  /**\n   * Apply UI configuration\n   */\n  applyUIConfig() {\n    const config = State.get('config');\n    \n    if (config.ui?.recipeListMaxHeight) {\n      const container = document.getElementById('recipeListContainer');\n      if (container) {\n        container.style.maxHeight = config.ui.recipeListMaxHeight;\n      }\n    }\n    \n    if (config.ui?.recipeDetailsMaxHeight) {\n      const content = document.getElementById('recipeDetailsContent');\n      if (content) {\n        content.style.maxHeight = config.ui.recipeDetailsMaxHeight;\n      }\n    }\n  }\n}\n", "/**\n * Daily Plan Renderer\n * Handles all daily plan-related UI rendering\n */\n\nimport { State } from '../core/State.js';\n\nexport class DailyPlanRenderer {\n  \n  /**\n   * Render daily plan list\n   */\n  static renderList(dailyPlans, onSelect) {\n    const listElement = document.getElementById('dailyPlanList');\n    if (!listElement) return;\n\n    listElement.innerHTML = '';\n\n    if (dailyPlans.length === 0) {\n      listElement.innerHTML = '<li class=\"no-results\">No daily plans found</li>';\n      return;\n    }\n\n    // Sort alphabetically by name\n    const sortedPlans = [...dailyPlans].sort((a, b) => a.name.localeCompare(b.name));\n\n    sortedPlans.forEach(plan => {\n      const li = document.createElement('li');\n      li.className = 'daily-plan-item';\n      li.dataset.dailyPlanId = plan.id;\n      li.dataset.action = 'select-daily-plan';\n      li.innerHTML = `\n        <span class=\"daily-plan-name\">${plan.name}</span>\n        <span class=\"daily-plan-meta\">\n          <span class=\"daily-plan-menu-count\">${plan.dailyPlanMenus?.length || 0} menus</span>\n        </span>\n      `;\n\n      listElement.appendChild(li);\n    });\n\n    // Add click handler using event delegation\n    listElement.addEventListener('click', (e) => {\n      const item = e.target.closest('[data-action=\"select-daily-plan\"]');\n      if (item && onSelect) {\n        onSelect(item.dataset.dailyPlanId);\n      }\n    });\n  }\n\n  /**\n   * Update daily plan item with summary data\n   */\n  static updateDailyPlanItemWithSummary(dailyPlanId, summaryData, calculateOxalateRisk) {\n    const item = document.querySelector(`[data-daily-plan-id=\"${dailyPlanId}\"]`);\n    if (!item || !summaryData) return;\n\n    const userSettings = State.get('userSettings');\n    const dailyRequirements = State.get('dailyRequirements');\n    \n    const calories = summaryData.totals.calories || 0;\n    const caloriesPercent = ((calories / userSettings.caloriesPerDay) * 100).toFixed(0);\n    \n    const sodium = summaryData.totals.sodium || 0;\n    const sodiumReq = parseFloat(dailyRequirements['sodium']?.maximum) || 2300;\n    const sodiumPercent = ((sodium / sodiumReq) * 100).toFixed(0);\n    \n    const oxalates = summaryData.oxalateMg || 0;\n    const oxalateRisk = calculateOxalateRisk(oxalates);\n    const kidneyStoneRiskData = State.get('kidneyStoneRiskData');\n    const maxOxalates = kidneyStoneRiskData[userSettings.kidneyStoneRisk]?.maxOxalatesPerDay || 200;\n    const oxalatesPercent = ((oxalates / maxOxalates) * 100).toFixed(0);\n    \n    const menuCount = summaryData.menus.length;\n\n    item.innerHTML = `\n      <span class=\"daily-plan-name\">${summaryData.dailyPlanName}</span>\n      <span class=\"daily-plan-meta\">\n        <span class=\"daily-plan-menu-count\">${menuCount} menus</span>\n        <span class=\"daily-plan-calories\">${calories.toFixed(0)} cal (${caloriesPercent}%)</span>\n        <span class=\"daily-plan-sodium\">${sodium.toFixed(0)}mg Na (${sodiumPercent}%)</span>\n        <span class=\"daily-plan-oxalates\" style=\"color: ${oxalateRisk.color}\">${oxalates.toFixed(1)}mg ox (${oxalatesPercent}%)</span>\n      </span>\n    `;\n\n    // Re-apply selected class if needed\n    const selectedDailyPlanId = State.get('selectedDailyPlanId');\n    if (dailyPlanId == selectedDailyPlanId) {\n      item.classList.add('selected');\n    }\n  }\n\n  /**\n   * Mark daily plan as selected\n   */\n  static markAsSelected(dailyPlanId) {\n    document.querySelectorAll('.daily-plan-item').forEach(item => {\n      item.classList.remove('selected');\n    });\n\n    const selectedItem = document.querySelector(`[data-daily-plan-id=\"${dailyPlanId}\"]`);\n    if (selectedItem) {\n      selectedItem.classList.add('selected');\n    }\n  }\n\n  /**\n   * Render daily plan details\n   */\n  static renderDetails(data, options = {}) {\n    const {\n      dailyRequirements,\n      userSettings,\n      showAllNutrients,\n      currentNutrientPage,\n      calculateOxalateRisk,\n      INGREDIENT_PROPS,\n      NUTRIENTS_PER_PAGE\n    } = options;\n\n    const section = document.getElementById('dailyPlanDetailsSection');\n    const title = document.getElementById('dailyPlanDetailsTitle');\n    const content = document.getElementById('dailyPlanDetailsContent');\n\n    if (!section || !title || !content) return;\n\n    title.textContent = `Daily Plan: ${data.dailyPlanName}`;\n\n    let html = '<div class=\"details-content\">';\n\n    // Daily Totals Section\n    html += this.renderDailyTotals(data, {\n      dailyRequirements,\n      userSettings,\n      showAllNutrients,\n      currentNutrientPage,\n      calculateOxalateRisk,\n      INGREDIENT_PROPS,\n      NUTRIENTS_PER_PAGE\n    });\n\n    // Menus Grouped by Type\n    html += this.renderMenusByType(data);\n\n    html += '</div>';\n    content.innerHTML = html;\n    section.style.display = 'block';\n  }\n\n  /**\n   * Render daily totals section\n   */\n  static renderDailyTotals(data, options) {\n    const {\n      dailyRequirements,\n      userSettings,\n      showAllNutrients,\n      currentNutrientPage,\n      calculateOxalateRisk,\n      INGREDIENT_PROPS,\n      NUTRIENTS_PER_PAGE\n    } = options;\n\n    const oxalateRisk = calculateOxalateRisk(data.oxalateMg);\n\n    let html = '<div class=\"details-section\">';\n    html += '<div class=\"contribution-header\">';\n    html += '<h3>Daily Totals</h3>';\n    html += '<button class=\"btn btn-secondary btn-small\" data-action=\"toggle-daily-nutrient-view\">';\n    html += showAllNutrients ? 'Show Key Nutrients' : 'Show All Nutrients';\n    html += '</button>';\n    html += '</div>';\n\n    if (showAllNutrients) {\n      html += this.renderAllNutrientsTotals(data, {\n        dailyRequirements,\n        userSettings,\n        currentNutrientPage,\n        INGREDIENT_PROPS,\n        NUTRIENTS_PER_PAGE\n      });\n    } else {\n      html += this.renderKeyNutrientsTotals(data, {\n        dailyRequirements,\n        userSettings,\n        calculateOxalateRisk\n      });\n    }\n\n    if (oxalateRisk.message) {\n      html += `<div class=\"oxalate-warning\" style=\"border-left-color: ${oxalateRisk.color}; margin-top: 1rem;\">${oxalateRisk.message}</div>`;\n    }\n\n    html += '</div>';\n\n    return html;\n  }\n\n  /**\n   * Render key nutrients totals (calories, sodium, oxalates)\n   */\n  static renderKeyNutrientsTotals(data, options) {\n    const { dailyRequirements, userSettings, calculateOxalateRisk } = options;\n\n    const calories = data.totals.calories || 0;\n    const caloriesPercent = ((calories / userSettings.caloriesPerDay) * 100).toFixed(1);\n\n    const sodium = data.totals.sodium || 0;\n    const sodiumReq = parseFloat(dailyRequirements['sodium']?.maximum) || 2300;\n    const sodiumPercent = ((sodium / sodiumReq) * 100).toFixed(1);\n\n    const oxalates = data.oxalateMg || 0;\n    const oxalateRisk = calculateOxalateRisk(oxalates);\n    const oxalatesPercent = oxalateRisk.percent.toFixed(1);\n\n    let html = '<table class=\"nutrition-table\" style=\"margin-top: 1rem;\">';\n    html += `<tr><td class=\"nutrient-name\">Calories</td><td class=\"nutrient-value\">${calories.toFixed(0)} (${caloriesPercent}%)</td></tr>`;\n    html += `<tr><td class=\"nutrient-name\">Sodium</td><td class=\"nutrient-value\">${sodium.toFixed(0)} mg (${sodiumPercent}%)</td></tr>`;\n    html += `<tr><td class=\"nutrient-name\">Oxalates</td><td class=\"nutrient-value\" style=\"color: ${oxalateRisk.color}\">${oxalates.toFixed(1)} mg (${oxalatesPercent}%)</td></tr>`;\n    html += '</table>';\n\n    return html;\n  }\n\n  /**\n   * Render all nutrients totals with pagination\n   */\n  static renderAllNutrientsTotals(data, options) {\n    const { dailyRequirements, userSettings, currentNutrientPage, INGREDIENT_PROPS, NUTRIENTS_PER_PAGE } = options;\n\n    const allNutrients = Object.keys(data.totals).filter(key => data.totals[key] > 0);\n    \n    const startIdx = currentNutrientPage * NUTRIENTS_PER_PAGE;\n    const endIdx = Math.min(startIdx + NUTRIENTS_PER_PAGE, allNutrients.length);\n    const pageNutrients = allNutrients.slice(startIdx, endIdx);\n    const totalPages = Math.ceil(allNutrients.length / NUTRIENTS_PER_PAGE);\n\n    let html = '';\n\n    if (totalPages > 1) {\n      html += '<div class=\"pagination-controls\">';\n      html += `<button class=\"btn btn-secondary btn-small\" data-action=\"prev-daily-nutrient-page\" ${currentNutrientPage === 0 ? 'disabled' : ''}>\u2190 Prev</button>`;\n      html += `<span class=\"page-info\">Page ${currentNutrientPage + 1} of ${totalPages}</span>`;\n      html += `<button class=\"btn btn-secondary btn-small\" data-action=\"next-daily-nutrient-page\" ${currentNutrientPage >= totalPages - 1 ? 'disabled' : ''}>Next \u2192</button>`;\n      html += '</div>';\n    }\n\n    html += '<table class=\"nutrition-table\" style=\"margin-top: 1rem;\">';\n\n    pageNutrients.forEach(nutrient => {\n      const value = data.totals[nutrient];\n      let formattedValue = typeof value === 'number' ? value.toFixed(2) : value;\n      let percentDaily = '';\n\n      if (nutrient === 'calories') {\n        const percent = ((value / userSettings.caloriesPerDay) * 100).toFixed(1);\n        percentDaily = ` (${percent}%)`;\n      } else if (dailyRequirements[nutrient]) {\n        const req = dailyRequirements[nutrient];\n        let dailyValue = null;\n\n        if (req.recommended) {\n          dailyValue = parseFloat(req.recommended);\n        } else if (req.maximum) {\n          dailyValue = parseFloat(req.maximum);\n        }\n\n        if (dailyValue) {\n          const percent = ((value / dailyValue) * 100).toFixed(1);\n          percentDaily = ` (${percent}%)`;\n        }\n      }\n\n      if (nutrient !== 'calories') {\n        const unit = INGREDIENT_PROPS[nutrient]?.unit;\n        if (unit && unit !== 'none') {\n          formattedValue = `${formattedValue} ${unit}`;\n        }\n      }\n\n      html += `<tr><td class=\"nutrient-name\">${nutrient}</td><td class=\"nutrient-value\">${formattedValue}${percentDaily}</td></tr>`;\n    });\n\n    html += '</table>';\n\n    return html;\n  }\n\n  /**\n   * Render menus grouped by type\n   */\n  static renderMenusByType(data) {\n    const typeOrder = ['Breakfast', 'Lunch', 'Brunch', 'Snack', 'Dinner', 'Other'];\n    \n    // Group menus by type\n    const menusByType = {};\n    typeOrder.forEach(type => {\n      menusByType[type] = [];\n    });\n\n    data.menus.forEach(menu => {\n      const type = menu.type || 'Other';\n      if (menusByType[type]) {\n        menusByType[type].push(menu);\n      } else {\n        menusByType['Other'].push(menu);\n      }\n    });\n\n    let html = '';\n\n    // Render each type section\n    typeOrder.forEach(type => {\n      if (menusByType[type].length === 0) return;\n\n      html += '<div class=\"details-section\">';\n      html += `<h3>${type}</h3>`;\n      html += '<ul class=\"menu-recipe-list\">';\n\n      menusByType[type].forEach(menu => {\n        const calories = menu.totals?.calories || 0;\n        const sodium = menu.totals?.sodium || 0;\n        const oxalates = menu.oxalateMg || 0;\n\n        html += `\n          <li class=\"menu-recipe-item\">\n            <span class=\"recipe-name\">${menu.name}</span>\n            <span class=\"recipe-stats\">\n              <span>${calories.toFixed(0)} cal</span>\n              <span>${sodium.toFixed(0)}mg Na</span>\n              <span>${oxalates.toFixed(1)}mg ox</span>\n            </span>\n          </li>\n        `;\n      });\n\n      html += '</ul>';\n      html += '</div>';\n    });\n\n    return html;\n  }\n\n  /**\n   * Show error message in daily plan details\n   */\n  static showError(message) {\n    const content = document.getElementById('dailyPlanDetailsContent');\n    if (content) {\n      content.innerHTML = `<div class=\"error-message\">${message}</div>`;\n      const section = document.getElementById('dailyPlanDetailsSection');\n      if (section) section.style.display = 'block';\n    }\n  }\n\n  /**\n   * Render selected menus for daily plan editor\n   */\n  static renderSelectedMenus(menus, onRemove, onTypeChange) {\n    const container = document.getElementById('menuRowsForDailyPlan');\n    if (!container) return;\n\n    if (menus.length === 0) {\n      container.innerHTML = '<div class=\"no-menus-message\">No menus added yet</div>';\n      return;\n    }\n\n    container.innerHTML = '';\n\n    menus.forEach((menu, index) => {\n      const row = document.createElement('div');\n      row.className = 'menu-row-daily-plan';\n      row.dataset.index = index;\n\n      const nameSpan = document.createElement('span');\n      nameSpan.className = 'menu-name';\n      nameSpan.title = menu.name;\n      nameSpan.textContent = menu.name;\n\n      const typeSelect = document.createElement('select');\n      typeSelect.className = 'type-select';\n      typeSelect.dataset.index = index;\n      typeSelect.innerHTML = `\n        <option value=\"Breakfast\" ${menu.type === 'Breakfast' ? 'selected' : ''}>Breakfast</option>\n        <option value=\"Lunch\" ${menu.type === 'Lunch' ? 'selected' : ''}>Lunch</option>\n        <option value=\"Brunch\" ${menu.type === 'Brunch' ? 'selected' : ''}>Brunch</option>\n        <option value=\"Snack\" ${menu.type === 'Snack' ? 'selected' : ''}>Snack</option>\n        <option value=\"Dinner\" ${menu.type === 'Dinner' ? 'selected' : ''}>Dinner</option>\n        <option value=\"Other\" ${menu.type === 'Other' ? 'selected' : ''}>Other</option>\n      `;\n\n      const removeBtn = document.createElement('button');\n      removeBtn.type = 'button';\n      removeBtn.className = 'remove-btn';\n      removeBtn.dataset.action = 'remove-menu-from-daily-plan';\n      removeBtn.dataset.index = index;\n      removeBtn.title = 'Remove menu';\n      removeBtn.innerHTML = '&times;';\n\n      row.appendChild(nameSpan);\n      row.appendChild(typeSelect);\n      row.appendChild(removeBtn);\n\n      // Add direct event listener for type change\n      if (onTypeChange) {\n        typeSelect.addEventListener('change', () => {\n          onTypeChange(index, typeSelect.value);\n        });\n      }\n\n      container.appendChild(row);\n    });\n  }\n\n  /**\n   * Render menu search results for daily plan editor\n   */\n  static renderMenuSearchResults(results, onAdd) {\n    const resultsContainer = document.getElementById('menuSearchResultsForDailyPlan');\n    if (!resultsContainer) return;\n\n    if (results.length === 0) {\n      resultsContainer.innerHTML = '<div class=\"search-result-item\">No menus found</div>';\n      resultsContainer.classList.add('show');\n      return;\n    }\n\n    resultsContainer.innerHTML = '';\n\n    results.forEach(menu => {\n      const item = document.createElement('div');\n      item.className = 'search-result-item';\n      item.textContent = menu.name;\n      item.dataset.menuId = menu.id;\n      item.dataset.menuName = menu.name;\n      item.style.cursor = 'pointer';\n      item.dataset.action = 'add-menu-to-daily-plan';\n\n      resultsContainer.appendChild(item);\n    });\n\n    // Add click handler\n    resultsContainer.addEventListener('click', (e) => {\n      const item = e.target.closest('[data-action=\"add-menu-to-daily-plan\"]');\n      if (item && onAdd) {\n        onAdd({\n          id: item.dataset.menuId,\n          name: item.dataset.menuName\n        });\n      }\n    });\n\n    resultsContainer.classList.add('show');\n  }\n\n  /**\n   * Hide menu search results\n   */\n  static hideMenuSearchResults() {\n    const resultsContainer = document.getElementById('menuSearchResultsForDailyPlan');\n    if (resultsContainer) {\n      resultsContainer.classList.remove('show');\n    }\n  }\n}\n", "/**\n * Menu Renderer\n * Handles all menu-related UI rendering\n */\n\nimport { State } from '../core/State.js';\n\nexport class MenuRenderer {\n  \n  /**\n   * Render menu list\n   */\n  static renderList(menus, onSelect) {\n    const listElement = document.getElementById('menuList');\n    if (!listElement) return;\n\n    listElement.innerHTML = '';\n\n    if (menus.length === 0) {\n      listElement.innerHTML = '<li class=\"no-results\">No menus found</li>';\n      return;\n    }\n\n    menus.forEach(menu => {\n      const li = document.createElement('li');\n      li.className = 'menu-item';\n      li.dataset.menuId = menu.id;\n      li.dataset.action = 'select-menu';\n      li.innerHTML = `\n        <span class=\"menu-name\">${menu.name}</span>\n        <span class=\"menu-meta\">\n          <span class=\"menu-recipe-count\">${menu.recipeIds.length} recipes</span>\n        </span>\n      `;\n\n      listElement.appendChild(li);\n    });\n\n    // Add click handler using event delegation\n    listElement.addEventListener('click', (e) => {\n      const item = e.target.closest('[data-action=\"select-menu\"]');\n      if (item && onSelect) {\n        onSelect(item.dataset.menuId);\n      }\n    });\n  }\n\n  /**\n   * Update menu item with summary data\n   */\n  static updateMenuItemWithSummary(menuId, summaryData, calculateOxalateRisk) {\n    const item = document.querySelector(`[data-menu-id=\"${menuId}\"]`);\n    if (!item || !summaryData) return;\n\n    const userSettings = State.get('userSettings');\n    const calories = summaryData.totals.calories || 0;\n    const caloriesPercent = ((calories / userSettings.caloriesPerDay) * 100).toFixed(0);\n    const oxalates = summaryData.oxalateMg || 0;\n    const oxalateRisk = calculateOxalateRisk(oxalates);\n    const recipeCount = summaryData.recipes.length;\n\n    item.innerHTML = `\n      <span class=\"menu-name\">${summaryData.menuName}</span>\n      <span class=\"menu-meta\">\n        <span class=\"menu-recipe-count\">${recipeCount} recipes</span>\n        <span class=\"menu-calories\">${calories.toFixed(0)} cal (${caloriesPercent}%)</span>\n        <span class=\"menu-oxalates\" style=\"color: ${oxalateRisk.color}\">${oxalates.toFixed(1)}mg ox</span>\n      </span>\n    `;\n\n    // Re-apply selected class if needed\n    const selectedMenuId = State.get('selectedMenuId');\n    if (menuId === selectedMenuId) {\n      item.classList.add('selected');\n    }\n  }\n\n  /**\n   * Mark menu as selected\n   */\n  static markAsSelected(menuId) {\n    document.querySelectorAll('.menu-item').forEach(item => {\n      item.classList.remove('selected');\n    });\n\n    const selectedItem = document.querySelector(`[data-menu-id=\"${menuId}\"]`);\n    if (selectedItem) {\n      selectedItem.classList.add('selected');\n    }\n  }\n\n  /**\n   * Render menu details\n   */\n  static renderDetails(data, options = {}) {\n    const {\n      dailyRequirements,\n      userSettings,\n      calculateOxalateRisk,\n      INGREDIENT_PROPS\n    } = options;\n\n    const section = document.getElementById('menuDetailsSection');\n    const title = document.getElementById('menuDetailsTitle');\n    const content = document.getElementById('menuDetailsContent');\n\n    if (!section || !title || !content) return;\n\n    title.textContent = `Menu: ${data.menuName}`;\n\n    let html = '<div class=\"details-content\">';\n\n    // Dietary Assessment\n    html += this.renderDietaryAssessment(data, calculateOxalateRisk);\n\n    // Recipe List\n    html += this.renderRecipeList(data);\n\n    // Nutritional Totals\n    html += this.renderNutritionalTotals(data, {\n      dailyRequirements,\n      userSettings,\n      INGREDIENT_PROPS\n    });\n\n    html += '</div>';\n    content.innerHTML = html;\n    section.style.display = 'block';\n  }\n\n  /**\n   * Render dietary assessment section\n   */\n  static renderDietaryAssessment(data, calculateOxalateRisk) {\n    const oxalateRisk = calculateOxalateRisk(data.oxalateMg);\n\n    let html = '<div class=\"details-section\">';\n    html += '<h3>Dietary Assessment</h3>';\n    html += `<p><strong>DASH Adherence:</strong> ${data.dashAdherence}</p>`;\n    html += `<p><strong>Reasons:</strong> ${data.dashReasons || 'N/A'}</p>`;\n    html += `<p><strong>Oxalate Level:</strong> <span style=\"color: ${oxalateRisk.color}; font-weight: bold;\">${data.oxalateLevel}</span> (${data.oxalateMg.toFixed(2)} mg)</p>`;\n\n    if (oxalateRisk.message) {\n      html += `<div class=\"oxalate-warning\" style=\"border-left-color: ${oxalateRisk.color};\">${oxalateRisk.message}</div>`;\n    }\n\n    html += '</div>';\n\n    return html;\n  }\n\n  /**\n   * Render recipe list section\n   */\n  static renderRecipeList(data) {\n    let html = '<div class=\"details-section\">';\n    html += '<h3>Recipes in this Menu</h3>';\n    html += '<ul class=\"menu-recipe-list\">';\n\n    data.recipes.forEach(recipe => {\n      const calories = recipe.totals?.calories || 0;\n      const oxalates = recipe.oxalateMg || 0;\n      html += `\n        <li class=\"menu-recipe-item\">\n          <span class=\"recipe-name\">${recipe.name}</span>\n          <span class=\"recipe-stats\">\n            <span>${calories.toFixed(0)} cal</span>\n            <span>${oxalates.toFixed(1)}mg ox</span>\n          </span>\n        </li>\n      `;\n    });\n\n    html += '</ul>';\n    html += '</div>';\n\n    return html;\n  }\n\n  /**\n   * Render nutritional totals section\n   */\n  static renderNutritionalTotals(data, options) {\n    const { dailyRequirements, userSettings, INGREDIENT_PROPS } = options;\n\n    let html = '<div class=\"details-section\">';\n    html += '<h3>Nutritional Totals</h3>';\n    html += '<div><i>Combined nutrition from all recipes (% of Daily Requirement)</i></div>';\n    html += '<table class=\"nutrition-table\">';\n\n    for (const [key, value] of Object.entries(data.totals)) {\n      if (value === 0 && key !== 'oxalates') continue;\n\n      let formattedValue = typeof value === 'number' ? value.toFixed(2) : value;\n      let percentDaily = '';\n\n      if (key === 'calories') {\n        const percent = ((value / userSettings.caloriesPerDay) * 100).toFixed(1);\n        percentDaily = ` (${percent}%)`;\n      } else if (dailyRequirements[key]) {\n        const req = dailyRequirements[key];\n        let dailyValue = null;\n\n        if (req.recommended) {\n          dailyValue = parseFloat(req.recommended);\n        } else if (req.maximum) {\n          dailyValue = parseFloat(req.maximum);\n        }\n\n        if (dailyValue) {\n          const percent = ((value / dailyValue) * 100).toFixed(1);\n          percentDaily = ` (${percent}%)`;\n        }\n      }\n\n      if (key !== 'calories') {\n        const unit = INGREDIENT_PROPS[key]?.unit;\n        if (unit && unit !== 'none') {\n          formattedValue = `${formattedValue} ${unit}`;\n        }\n      }\n\n      html += `<tr><td class=\"nutrient-name\">${key}</td><td class=\"nutrient-value\">${formattedValue}${percentDaily}</td></tr>`;\n    }\n\n    html += '</table>';\n    html += '</div>';\n\n    return html;\n  }\n\n  /**\n   * Show error message in menu details\n   */\n  static showError(message) {\n    const content = document.getElementById('menuDetailsContent');\n    if (content) {\n      content.innerHTML = `<div class=\"error-message\">${message}</div>`;\n      const section = document.getElementById('menuDetailsSection');\n      if (section) section.style.display = 'block';\n    }\n  }\n\n  /**\n   * Render selected recipes for menu editor\n   */\n  static renderSelectedRecipes(recipes, onRemove) {\n    const container = document.getElementById('recipeRows');\n    if (!container) return;\n\n    if (recipes.length === 0) {\n      container.innerHTML = '<div class=\"no-recipes-message\">No recipes added yet</div>';\n      return;\n    }\n\n    container.innerHTML = '';\n\n    recipes.forEach((recipe, index) => {\n      const row = document.createElement('div');\n      row.className = 'recipe-row';\n      row.dataset.index = index;\n\n      const nameSpan = document.createElement('span');\n      nameSpan.className = 'recipe-name';\n      nameSpan.title = recipe.name;\n      nameSpan.textContent = recipe.name;\n\n      const removeBtn = document.createElement('button');\n      removeBtn.type = 'button';\n      removeBtn.className = 'remove-btn';\n      removeBtn.dataset.action = 'remove-recipe';\n      removeBtn.dataset.index = index;\n      removeBtn.title = 'Remove recipe';\n      removeBtn.innerHTML = '&times;';\n\n      row.appendChild(nameSpan);\n      row.appendChild(removeBtn);\n\n      container.appendChild(row);\n    });\n  }\n\n  /**\n   * Render recipe search results\n   */\n  static renderRecipeSearchResults(results, selectedRecipes, onAdd) {\n    const resultsContainer = document.getElementById('recipeSearchResults');\n    if (!resultsContainer) return;\n\n    if (results.length === 0) {\n      resultsContainer.innerHTML = '<div class=\"search-result-item\">No recipes found</div>';\n      resultsContainer.classList.add('show');\n      return;\n    }\n\n    resultsContainer.innerHTML = '';\n\n    results.forEach(recipe => {\n      const alreadyAdded = selectedRecipes.some(r => r.id == recipe.id);\n\n      const item = document.createElement('div');\n      item.className = 'search-result-item';\n      if (alreadyAdded) item.classList.add('selected');\n      item.textContent = recipe.name;\n      item.dataset.recipeId = recipe.id;\n      item.dataset.recipeName = recipe.name;\n\n      if (!alreadyAdded) {\n        item.style.cursor = 'pointer';\n        item.dataset.action = 'add-recipe-to-menu';\n      } else {\n        item.style.opacity = '0.5';\n        item.style.cursor = 'not-allowed';\n        item.title = 'Already added';\n      }\n\n      resultsContainer.appendChild(item);\n    });\n\n    // Add click handler\n    resultsContainer.addEventListener('click', (e) => {\n      const item = e.target.closest('[data-action=\"add-recipe-to-menu\"]');\n      if (item && onAdd) {\n        onAdd({\n          id: item.dataset.recipeId,\n          name: item.dataset.recipeName\n        });\n      }\n    });\n\n    resultsContainer.classList.add('show');\n  }\n\n  /**\n   * Hide recipe search results\n   */\n  static hideRecipeSearchResults() {\n    const resultsContainer = document.getElementById('recipeSearchResults');\n    if (resultsContainer) {\n      resultsContainer.classList.remove('show');\n    }\n  }\n}\n", "/**\n * Recipe Renderer\n * Handles all recipe-related UI rendering\n */\n\nimport { State } from '../core/State.js';\n\nexport class RecipeRenderer {\n\n  /**\n   * Render recipe list\n   */\n  static renderList(recipes, onSelect) {\n    const listElement = document.getElementById('recipeList');\n    if (!listElement) return;\n\n    listElement.innerHTML = '';\n\n    if (recipes.length === 0) {\n      listElement.innerHTML = '<li class=\"no-results\">No recipes found</li>';\n      return;\n    }\n\n    recipes.forEach(recipe => {\n      const li = document.createElement('li');\n      li.className = 'recipe-item';\n      li.dataset.recipeId = recipe.id;\n      li.dataset.action = 'select-recipe';\n      li.textContent = recipe.name;\n\n      listElement.appendChild(li);\n    });\n\n    // Add click handler using event delegation\n    listElement.addEventListener('click', (e) => {\n      const item = e.target.closest('[data-action=\"select-recipe\"]');\n      if (item && onSelect) {\n        onSelect(item.dataset.recipeId);\n      }\n    });\n  }\n\n  /**\n   * Update recipe item with summary data (calories and oxalates)\n   */\n  static updateRecipeItemWithSummary(recipeId, summaryData, calculateOxalateRisk) {\n    const item = document.querySelector(`[data-recipe-id=\"${recipeId}\"]`);\n    if (!item || !summaryData) return;\n\n    const userSettings = State.get('userSettings');\n    const calories = summaryData.totals.calories || 0;\n    const caloriesPercent = ((calories / userSettings.caloriesPerDay) * 100).toFixed(0);\n    const oxalates = summaryData.oxalateMg || 0;\n    const oxalateRisk = calculateOxalateRisk(oxalates);\n\n    const recipe = summaryData;\n    item.innerHTML = `\n      <span class=\"recipe-name\">${recipe.name}</span>\n      <span class=\"recipe-meta\">\n        <span class=\"recipe-calories\">${calories.toFixed(0)} cal (${caloriesPercent}%)</span>\n        <span class=\"recipe-oxalates\" style=\"color: ${oxalateRisk.color}\">${oxalates.toFixed(1)}mg ox</span>\n      </span>\n    `;\n\n    // Re-apply selected class if needed\n    const selectedRecipeId = State.get('selectedRecipeId');\n    if (recipeId === selectedRecipeId) {\n      item.classList.add('selected');\n    }\n  }\n\n  /**\n   * Mark recipe as selected\n   */\n  static markAsSelected(recipeId) {\n    document.querySelectorAll('.recipe-item').forEach(item => {\n      item.classList.remove('selected');\n    });\n\n    const selectedItem = document.querySelector(`[data-recipe-id=\"${recipeId}\"]`);\n    if (selectedItem) {\n      selectedItem.classList.add('selected');\n    }\n  }\n\n  /**\n   * Render recipe details\n   */\n  static renderDetails(data, options = {}) {\n    const {\n      dailyRequirements,\n      userSettings,\n      showAllNutrients,\n      currentNutrientPage,\n      calculateOxalateRisk,\n      calculateContributions,\n      INGREDIENT_PROPS,\n      NUTRIENTS_PER_PAGE\n    } = options;\n\n    const section = document.getElementById('recipeDetailsSection');\n    const title = document.getElementById('recipeDetailsTitle');\n    const content = document.getElementById('recipeDetailsContent');\n\n    if (!section || !title || !content) return;\n\n    title.textContent = `Recipe: ${data.name}`;\n\n    let html = '<div class=\"details-content\">';\n\n    // Dietary Assessment\n    html += this.renderDietaryAssessment(data, calculateOxalateRisk);\n\n    // Ingredient Contributions\n    if (data.ingredients && data.ingredients.length > 0) {\n      html += this.renderIngredientContributions(data, {\n        showAllNutrients,\n        currentNutrientPage,\n        calculateContributions,\n        dailyRequirements,\n        NUTRIENTS_PER_PAGE\n      });\n    }\n\n    // Nutritional Totals\n    html += this.renderNutritionalTotals(data, {\n      dailyRequirements,\n      userSettings,\n      INGREDIENT_PROPS\n    });\n\n    // Ingredient Details\n    html += this.renderIngredientDetails(data);\n\n    html += '</div>';\n    content.innerHTML = html;\n    section.style.display = 'block';\n  }\n\n  /**\n   * Render nutritional totals section\n   */\n  static renderNutritionalTotals(data, options) {\n    const { dailyRequirements, userSettings, INGREDIENT_PROPS } = options;\n\n    let html = '<div class=\"details-section\">';\n    html += '<h3>Nutritional Totals</h3>';\n    html += '<div><i>Nutrient Amount (% of Daily Requirement)</i></div>';\n    html += '<table class=\"nutrition-table\">';\n\n    for (const [key, value] of Object.entries(data.totals)) {\n      if (value === 0 && key !== 'oxalates') continue;\n\n      let formattedValue = typeof value === 'number' ? value.toFixed(2) : value;\n      let percentDaily = '';\n\n      if (key === 'calories') {\n        const percent = ((value / userSettings.caloriesPerDay) * 100).toFixed(1);\n        percentDaily = ` (${percent}%)`;\n      } else if (dailyRequirements[key]) {\n        const req = dailyRequirements[key];\n        let dailyValue = null;\n\n        if (req.recommended) {\n          dailyValue = parseFloat(req.recommended);\n        } else if (req.maximum) {\n          dailyValue = parseFloat(req.maximum);\n        }\n\n        if (dailyValue) {\n          const percent = ((value / dailyValue) * 100).toFixed(1);\n          percentDaily = ` (${percent}%)`;\n        }\n      }\n\n      if (key !== 'calories') {\n        const unit = INGREDIENT_PROPS[key]?.unit;\n        if (unit && unit !== 'none') {\n          formattedValue = `${formattedValue} ${unit}`;\n        }\n      }\n\n      html += `<tr><td class=\"nutrient-name\">${key}</td><td class=\"nutrient-value\">${formattedValue}${percentDaily}</td></tr>`;\n    }\n\n    html += '</table>';\n    html += '</div>';\n\n    return html;\n  }\n\n  /**\n   * Render dietary assessment section\n   */\n  static renderDietaryAssessment(data, calculateOxalateRisk) {\n    const oxalateRisk = calculateOxalateRisk(data.oxalateMg);\n\n    let html = '<div class=\"details-section\">';\n    html += '<h3>Dietary Assessment</h3>';\n    const color = {Excellent: \"green\", Good: \"green\", Fair: \"brown\", Poor: \"red\"};\n    html += `<p style=\"color:${color[data.dashAdherence]}\"><strong>DASH Adherence:</strong> ${data.dashAdherence} </p>`;\n    html += `<p><strong>Reasons:</strong> ${data.dashReasons}</p>`;\n    html += `<p><strong>Oxalate Level:</strong> <span style=\"color: ${oxalateRisk.color}; font-weight: bold;\">${data.oxalateLevel}</span> (${data.oxalateMg.toFixed(2)} mg)</p>`;\n\n    if (oxalateRisk.message) {\n      html += `<div class=\"oxalate-warning\" style=\"border-left-color: ${oxalateRisk.color};\">${oxalateRisk.message}</div>`;\n    }\n\n    html += '</div>';\n\n    return html;\n  }\n\n  /**\n   * Render ingredient details section\n   */\n  static renderIngredientDetails(data) {\n    if (!data.ingredients) return '';\n\n    let html = '<div class=\"details-section\">';\n    html += '<h3>Ingredient Details</h3>';\n\n    for (const ingredient of data.ingredients) {\n      html += `<div class=\"ingredient-detail\">`;\n      html += `<h4>${ingredient.name} (${ingredient.amount.toFixed(1)}g)</h4>`;\n      html += '<table class=\"nutrition-table\">';\n\n      for (const [key, value] of Object.entries(ingredient.nutritionScaled)) {\n        if (value === 0 && key !== 'oxalates') continue;\n\n        const formattedValue = typeof value === 'number' ? value.toFixed(2) : value;\n        html += `<tr><td class=\"nutrient-name\">${key}</td><td class=\"nutrient-value\">${formattedValue}</td></tr>`;\n      }\n\n      html += '</table>';\n      html += '</div>';\n    }\n\n    html += '</div>';\n\n    return html;\n  }\n\n  /**\n   * Render ingredient contributions table\n   */\n  static renderIngredientContributions(data, options) {\n    const { showAllNutrients, calculateContributions } = options;\n\n    let html = '<div class=\"details-section contribution-section\">';\n    html += '<div class=\"contribution-header\">';\n    html += '<h3>Ingredient Contribution</h3>';\n    html += '<button class=\"btn btn-secondary btn-small\" data-action=\"toggle-nutrient-view\">';\n    html += showAllNutrients ? 'Show Key Nutrients' : 'Show All Nutrients';\n    html += '</button>';\n    html += '</div>';\n    html += \"<div><i>Displays each nutrient's quantity and its percent contribution towards the recipe's content. Totals show the total nutrition quantity and the percent of the recommended daily requirements.</i></div><br/>\"\n\n    const contributions = calculateContributions(data);\n\n    if (showAllNutrients) {\n      html += this.renderAllNutrientsTable(contributions, data, options);\n    } else {\n      html += this.renderKeyNutrientsTable(contributions, data, options);\n    }\n\n    html += '</div>';\n\n    return html;\n  }\n\n  /**\n   * Render key nutrients table\n   */\n  static renderKeyNutrientsTable(contributions, data, options) {\n    const { dailyRequirements } = options;\n\n    let html = '<table class=\"contribution-table\">';\n    html += '<thead><tr>';\n    html += '<th>Ingredient</th>';\n    html += '<th>Amount</th>';\n    html += '<th>Calories</th>';\n    html += '<th>Sodium</th>';\n    html += '<th>Oxalates</th>';\n    html += '</tr></thead>';\n    html += '<tbody>';\n\n    data.ingredients.forEach(ingredient => {\n      const contrib = contributions[ingredient.name];\n      html += '<tr>';\n      html += `<td class=\"ing-name\">${ingredient.name}</td>`;\n      html += `<td class=\"ing-amount\">${ingredient.amount.toFixed(1)}g</td>`;\n\n      const cal = contrib.nutrients.calories || { value: 0, percent: 0 };\n      html += `<td>${cal.value.toFixed(0)} (${cal.percent.toFixed(0)}%)</td>`;\n\n      const sodium = contrib.nutrients.sodium || { value: 0, percent: 0 };\n      html += `<td>${sodium.value.toFixed(1)}mg (${sodium.percent.toFixed(0)}%)</td>`;\n\n      const ox = contrib.nutrients.oxalates || { value: 0, percent: 0 };\n      html += `<td>${ox.value.toFixed(2)}mg (${ox.percent.toFixed(0)}%)</td>`;\n\n      html += '</tr>';\n    });\n\n    // Totals row\n    html += '<tr class=\"totals-row\">';\n    html += '<td colspan=\"2\"><strong>Total:</strong></td>';\n\n    let totalCalories = Math.round(data.totals.calories || 0);\n    const calReq = parseFloat(dailyRequirements['calories']?.recommended);\n    if (!isNaN(calReq)) {\n      totalCalories = `${totalCalories} (${Math.round((totalCalories / calReq) * 100)}%)`;\n    }\n\n    let totalSodium = Math.round(data.totals.sodium || 0);\n    const sodReq = parseFloat(dailyRequirements['sodium']?.recommended);\n    totalSodium = isNaN(sodReq) ? `${totalSodium} mg` : `${totalSodium} (${Math.round((totalSodium / sodReq) * 100)}%)`;\n\n    const oxMax = parseFloat(dailyRequirements['oxalates']?.maximum);\n    let totalOxalates = Math.round(data.oxalateMg || 0);\n    totalOxalates = isNaN(oxMax) ? `${totalOxalates} mg` : `${totalOxalates} mg (${Math.round((totalOxalates / oxMax) * 100)}%)`;\n\n    html += `<td><strong>${totalCalories}</strong></td>`;\n    html += `<td><strong>${totalSodium}</strong></td>`;\n    html += `<td><strong>${totalOxalates}</strong></td>`;\n    html += '</tr>';\n\n    html += '</tbody></table>';\n\n    return html;\n  }\n\n  /**\n   * Render all nutrients table with pagination\n   */\n  static renderAllNutrientsTable(contributions, data, options) {\n    const { currentNutrientPage, NUTRIENTS_PER_PAGE, dailyRequirements, userSettings } = options;\n\n    const allNutrients = new Set();\n    Object.values(contributions).forEach(contrib => {\n      Object.keys(contrib.nutrients).forEach(nutrient => {\n        allNutrients.add(nutrient);\n      });\n    });\n\n    const activeNutrients = Array.from(allNutrients).filter(nutrient => {\n      return Object.values(contributions).some(contrib => {\n        const val = contrib.nutrients[nutrient];\n        return val && val.value > 0;\n      });\n    });\n\n    const startIdx = currentNutrientPage * NUTRIENTS_PER_PAGE;\n    const endIdx = Math.min(startIdx + NUTRIENTS_PER_PAGE, activeNutrients.length);\n    const pageNutrients = activeNutrients.slice(startIdx, endIdx);\n    const totalPages = Math.ceil(activeNutrients.length / NUTRIENTS_PER_PAGE);\n\n    let html = '';\n\n    if (totalPages > 1) {\n      html += '<div class=\"pagination-controls\">';\n      html += `<button class=\"btn btn-secondary btn-small\" data-action=\"prev-nutrient-page\" ${currentNutrientPage === 0 ? 'disabled' : ''}>\u2190 Prev</button>`;\n      html += `<span class=\"page-info\">Page ${currentNutrientPage + 1} of ${totalPages}</span>`;\n      html += `<button class=\"btn btn-secondary btn-small\" data-action=\"next-nutrient-page\" ${currentNutrientPage >= totalPages - 1 ? 'disabled' : ''}>Next \u2192</button>`;\n      html += '</div>';\n    }\n\n    html += '<div class=\"table-scroll\">';\n    html += '<table class=\"contribution-table\">';\n    html += '<thead><tr>';\n    html += '<th>Ingredient</th>';\n    html += '<th>Amount</th>';\n\n    pageNutrients.forEach(nutrient => {\n      html += `<th>${nutrient.replace(/_/g, ' ')}</th>`;\n    });\n\n    html += '</tr></thead>';\n    html += '<tbody>';\n\n    data.ingredients.forEach(ingredient => {\n      const contrib = contributions[ingredient.name];\n      html += '<tr>';\n      html += `<td class=\"ing-name\">${ingredient.name}</td>`;\n      html += `<td class=\"ing-amount\">${ingredient.amount.toFixed(1)}g</td>`;\n\n      pageNutrients.forEach(nutrient => {\n        const n = contrib.nutrients[nutrient] || { value: 0, percent: 0 };\n        if (nutrient === 'calories') {\n          html += `<td>${n.value.toFixed(0)} (${n.percent.toFixed(0)}%)</td>`;\n        } else {\n          html += `<td>${n.value.toFixed(1)} (${n.percent.toFixed(0)}%)</td>`;\n        }\n      });\n\n      html += '</tr>';\n    });\n\n    html += '<tr class=\"totals-row\">';\n    html += '<td colspan=\"2\"><strong>Total:</strong></td>';\n\n    pageNutrients.forEach(nutrient => {\n      const total = data.totals[nutrient] || 0;\n      let formattedValue = '';\n      let percentDaily = '';\n\n      // Calculate percentage of daily requirement\n      if (nutrient === 'calories') {\n        formattedValue = total.toFixed(0);\n        const userSettings = State.get('userSettings');\n        const percent = ((total / userSettings.caloriesPerDay) * 100).toFixed(1);\n        percentDaily = ` (${percent}%)`;\n      } else if (dailyRequirements[nutrient]) {\n        const req = dailyRequirements[nutrient];\n        let dailyValue = null;\n\n        if (req.recommended) {\n          dailyValue = parseFloat(req.recommended);\n        } else if (req.maximum) {\n          dailyValue = parseFloat(req.maximum);\n        }\n\n        formattedValue = total.toFixed(1);\n\n        if (dailyValue) {\n          const percent = ((total / dailyValue) * 100).toFixed(1);\n          percentDaily = ` (${percent}%)`;\n        }\n      } else {\n        // No daily requirement data available\n        formattedValue = total.toFixed(1);\n      }\n\n      html += `<td><strong>${formattedValue}${percentDaily}</strong></td>`;\n    });\n\n    html += '</tr>';\n    html += '</tbody></table>';\n    html += '</div>';\n\n    return html;\n  }\n\n  /**\n   * Show error message in recipe details\n   */\n  static showError(message) {\n    const content = document.getElementById('recipeDetailsContent');\n    if (content) {\n      content.innerHTML = `<div class=\"error-message\">${message}</div>`;\n      const section = document.getElementById('recipeDetailsSection');\n      if (section) section.style.display = 'block';\n    }\n  }\n}\n", "/**\n * Ingredient Renderer\n * Handles all ingredient-related UI rendering\n */\n\nexport class IngredientRenderer {\n  \n  /**\n   * Render ingredient list\n   */\n  static renderList(ingredients, onSelect) {\n    const listElement = document.getElementById('ingredientList');\n    if (!listElement) return;\n\n    listElement.innerHTML = '';\n\n    if (ingredients.length === 0) {\n      listElement.innerHTML = '<li class=\"no-results\">No ingredients found</li>';\n      return;\n    }\n\n    ingredients.forEach(ingredient => {\n      const li = document.createElement('li');\n      li.className = 'ingredient-item';\n      li.dataset.ingredientId = ingredient.id;\n      li.dataset.action = 'select-ingredient';\n      li.innerHTML = `\n        <span class=\"ingredient-name\">${ingredient.name}</span>\n        <span class=\"ingredient-compact\">${ingredient.compact.display}</span>\n      `;\n\n      listElement.appendChild(li);\n    });\n\n    // Add click handler using event delegation\n    listElement.addEventListener('click', (e) => {\n      const item = e.target.closest('[data-action=\"select-ingredient\"]');\n      if (item && onSelect) {\n        onSelect(item.dataset.ingredientId);\n      }\n    });\n  }\n\n  /**\n   * Mark ingredient as selected\n   */\n  static markAsSelected(ingredientId, ingredients) {\n    document.querySelectorAll('.ingredient-item').forEach(item => {\n      item.classList.remove('selected');\n    });\n    document.querySelectorAll('.ingredient-compact').forEach(item => {\n      item.classList.remove('selected');\n    });\n\n    const index = ingredients.findIndex(i => i.id == ingredientId);\n    const selectedItem = document.querySelector(`.ingredient-item:nth-child(${index + 1})`);\n    if (selectedItem) {\n      selectedItem.classList.add('selected');\n      const compactItem = selectedItem.querySelector(\".ingredient-compact\")\n      if (compactItem) {\n        compactItem.classList.add('selected')\n      }\n    }\n  }\n\n  /**\n   * Render ingredient details\n   */\n  static renderDetails(data) {\n    const section = document.getElementById('ingredientDetailsSection');\n    const title = document.getElementById('ingredientDetailsTitle');\n    const content = document.getElementById('ingredientDetailsContent');\n\n    if (!section || !title || !content) return;\n\n    title.textContent = data.name;\n\n    let html = '<div class=\"details-content\">';\n\n    // Basic info\n    html += '<div class=\"details-section\">';\n    html += `<p><strong>Serving Size:</strong> ${data.serving} (${data.gramsPerServing.toFixed(1)}g)</p>`;\n    if (data.density) {\n      html += `<p><strong>Density:</strong> ${data.density} g/ml</p>`;\n    }\n    html += '</div>';\n\n    // Nutritional information\n    html += '<div class=\"details-section\">';\n    html += '<h3>Nutritional Information (per serving)</h3>';\n    html += '<table class=\"nutrition-table\">';\n\n    for (const [key, value] of Object.entries(data.data)) {\n      if (value === null || value === undefined) continue;\n\n      let displayValue = value;\n      if (key === 'calories') {\n        displayValue = value;\n      } else if (typeof value === 'string') {\n        displayValue = value;\n      } else {\n        displayValue = `${value} mg`;\n      }\n\n      html += `<tr><td class=\"nutrient-name\">${key.replace(/_/g, ' ')}</td><td class=\"nutrient-value\">${displayValue}</td></tr>`;\n    }\n\n    html += `<tr><td class=\"nutrient-name\">oxalate (per gram)</td><td class=\"nutrient-value\">${data.oxalatePerGram.toFixed(3)} mg/g</td></tr>`;\n    html += `<tr><td class=\"nutrient-name\">oxalate (per serving)</td><td class=\"nutrient-value\">${data.oxalatePerServing.toFixed(2)} mg</td></tr>`;\n    html += '</table>';\n    html += '</div>';\n\n    html += '</div>';\n    content.innerHTML = html;\n    section.style.display = 'block';\n  }\n}\n", "/**\n * Form Renderer\n * Handles form rendering and selected ingredients display\n */\n\nexport class FormRenderer {\n\n  /**\n   * Render selected ingredients for recipe editor\n   */\n  static renderSelectedIngredients(ingredients, onUpdate) {\n    const container = document.getElementById('ingredientRows');\n    if (!container) return;\n\n    if (ingredients.length === 0) {\n      container.innerHTML = '<div class=\"no-ingredients-message\">No ingredients added yet</div>';\n      return;\n    }\n\n    container.innerHTML = '';\n\n    ingredients.forEach((ingredient, index) => {\n      const row = document.createElement('div');\n      row.className = 'ingredient-row';\n      row.dataset.index = index;\n\n      const amountInput = document.createElement('input');\n      amountInput.type = 'number';\n      amountInput.className = 'amount-input';\n      amountInput.value = ingredient.amount;\n      amountInput.min = '0.01';\n      amountInput.step = '0.01';\n      amountInput.dataset.index = index;\n\n      const unitSelect = document.createElement('select');\n      unitSelect.className = 'unit-select';\n      unitSelect.dataset.index = index;\n      unitSelect.innerHTML = `\n        <option value=\"g\" ${ingredient.unit === 'g' ? 'selected' : ''}>g</option>\n        <option value=\"ml\" ${ingredient.unit === 'ml' ? 'selected' : ''}>ml</option>\n        <option value=\"mg\" ${ingredient.unit === 'mg' ? 'selected' : ''}>mg</option>\n        <option value=\"mcg\" ${ingredient.unit === 'mcg' ? 'selected' : ''}>mcg</option>\n      `;\n\n      const removeBtn = document.createElement('button');\n      removeBtn.type = 'button';\n      removeBtn.className = 'remove-btn';\n      removeBtn.dataset.action = 'remove-ingredient';\n      removeBtn.dataset.index = index;\n      removeBtn.title = 'Remove ingredient';\n      removeBtn.innerHTML = '&times;';\n\n      const nameSpan = document.createElement('span');\n      nameSpan.className = 'ingredient-name';\n      nameSpan.title = ingredient.name;\n      nameSpan.textContent = ingredient.name;\n\n      row.appendChild(nameSpan);\n      row.appendChild(amountInput);\n      row.appendChild(unitSelect);\n      row.appendChild(removeBtn);\n\n      // Add direct event listeners for inputs (not delegation)\n      if (onUpdate) {\n        amountInput.addEventListener('change', () => {\n          onUpdate.amount(index, amountInput.value);\n        });\n\n        unitSelect.addEventListener('change', () => {\n          onUpdate.unit(index, unitSelect.value);\n        });\n      }\n\n      container.appendChild(row);\n    });\n  }\n\n  /**\n   * Render ingredient search results\n   */\n  static renderSearchResults(results, selectedIngredients, onAdd) {\n    const resultsContainer = document.getElementById('ingredientSearchResults');\n    if (!resultsContainer) return;\n\n    if (results.length === 0) {\n      resultsContainer.innerHTML = '<div class=\"search-result-item\">No ingredients found</div>';\n      resultsContainer.classList.add('show');\n      return;\n    }\n\n    resultsContainer.innerHTML = '';\n\n    results.forEach(ingredient => {\n      const alreadyAdded = selectedIngredients.some(ing => ing.brandId === ingredient.id);\n\n      const item = document.createElement('div');\n      item.className = 'search-result-item';\n      if (alreadyAdded) item.classList.add('selected');\n      item.textContent = ingredient.name;\n      item.dataset.ingredientId = ingredient.id;\n      item.dataset.ingredientName = ingredient.name;\n\n      if (!alreadyAdded) {\n        item.style.cursor = 'pointer';\n        item.dataset.action = 'add-ingredient-to-recipe';\n      } else {\n        item.style.opacity = '0.5';\n        item.style.cursor = 'not-allowed';\n        item.title = 'Already added';\n      }\n\n      resultsContainer.appendChild(item);\n    });\n\n    // Add click handler\n    resultsContainer.addEventListener('click', (e) => {\n      const item = e.target.closest('[data-action=\"add-ingredient-to-recipe\"]');\n      if (item && onAdd) {\n        onAdd({\n          id: item.dataset.ingredientId,\n          name: item.dataset.ingredientName\n        });\n      }\n    });\n\n    resultsContainer.classList.add('show');\n  }\n\n  /**\n   * Hide ingredient search results\n   */\n  static hideSearchResults() {\n    const resultsContainer = document.getElementById('ingredientSearchResults');\n    if (resultsContainer) {\n      resultsContainer.classList.remove('show');\n    }\n  }\n\n  /**\n   * Show error message\n   */\n  static showError(elementId, message) {\n    const errorEl = document.getElementById(elementId);\n    if (errorEl) {\n      errorEl.textContent = message;\n      errorEl.classList.add('show');\n    }\n  }\n\n  /**\n   * Clear all error messages\n   */\n  static clearErrors() {\n    document.querySelectorAll('.error-text').forEach(el => {\n      el.textContent = '';\n      el.classList.remove('show');\n    });\n  }\n\n  /**\n   * Open recipe editor panel\n   */\n  static openRecipeEditor() {\n    const panel = document.getElementById('recipeEditPanel');\n    if (panel) {\n      panel.classList.add('active');\n    }\n  }\n\n  /**\n   * Close recipe editor panel\n   */\n  static closeRecipeEditor() {\n    const panel = document.getElementById('recipeEditPanel');\n    if (panel) {\n      panel.classList.remove('active');\n    }\n  }\n\n  /**\n   * Open ingredient editor panel\n   */\n  static openIngredientEditor() {\n    const panel = document.getElementById('ingredientEditPanel');\n    if (panel) {\n      panel.classList.add('active');\n    }\n  }\n\n  /**\n   * Close ingredient editor panel\n   */\n  static closeIngredientEditor() {\n    const panel = document.getElementById('ingredientEditPanel');\n    if (panel) {\n      panel.classList.remove('active');\n    }\n  }\n\n  /**\n   * Set recipe editor title\n   */\n  static setRecipeEditorTitle(title) {\n    const titleEl = document.getElementById('editPanelTitle');\n    if (titleEl) {\n      titleEl.textContent = title;\n    }\n  }\n\n  /**\n   * Set ingredient editor title\n   */\n  static setIngredientEditorTitle(title) {\n    const titleEl = document.getElementById('ingredientEditPanelTitle');\n    if (titleEl) {\n      titleEl.textContent = title;\n    }\n  }\n\n  /**\n   * Clear recipe form\n   */\n  static clearRecipeForm() {\n    const nameInput = document.getElementById('recipeNameInput');\n    const searchBox = document.getElementById('ingredientSearchBox');\n\n    if (nameInput) nameInput.value = '';\n    if (searchBox) searchBox.value = '';\n  }\n\n  /**\n   * Clear ingredient form\n   */\n  static clearIngredientForm() {\n    const fieldIds = [\n      'ingredientNameInput', 'servingSizeInput', 'densityInput', 'oxalateInput',\n      'caloriesInput', 'sodiumInput', 'cholesterolInput', 'sugarsInput',\n      'proteinInput', 'dietaryFiberInput', 'carbohydratesInput', 'calciumInput',\n      'potassiumInput', 'magnesiumInput', 'seleniumInput', 'manganeseInput',\n      'zincInput', 'ironInput', 'fatInput', 'saturatedFatInput',\n      'polysaturatedFatInput', 'monosaturatedFatInput', 'thiaminInput',\n      'riboflavinInput', 'niacinInput', 'folicAcidInput', 'phosphorusInput',\n      'vitaminAInput', 'vitaminB6Input', 'vitaminCInput', 'vitaminDInput',\n      'vitaminEInput', 'vitaminKInput'\n    ];\n\n    fieldIds.forEach(id => {\n      const el = document.getElementById(id);\n      if (el) el.value = '';\n    });\n\n    const servingUnitSelect = document.getElementById('servingUnitSelect');\n    if (servingUnitSelect) servingUnitSelect.value = 'g';\n  }\n\n  /**\n   * Populate ingredient form with data\n   */\n  static populateIngredientForm(ingredient) {\n    document.getElementById('ingredientNameInput').value = ingredient.name;\n    document.getElementById('servingSizeInput').value = ingredient.serving;\n    document.getElementById('servingUnitSelect').value = ingredient.servingUnit;\n    document.getElementById('densityInput').value = ingredient.density || '';\n    document.getElementById('oxalateInput').value = ingredient.oxalatePerGram || '';\n\n    const fieldMapping = {\n      caloriesInput: 'calories',\n      sodiumInput: 'sodium',\n      cholesterolInput: 'cholesterol',\n      sugarsInput: 'sugars',\n      proteinInput: 'protein',\n      dietaryFiberInput: 'dietary_fiber',\n      carbohydratesInput: 'carbohydrates',\n      calciumInput: 'calcium',\n      potassiumInput: 'potassium',\n      magnesiumInput: 'magnesium',\n      seleniumInput: 'selenium',\n      manganeseInput: 'manganese',\n      zincInput: 'zinc',\n      ironInput: 'iron',\n      fatInput: 'fat',\n      saturatedFatInput: 'saturated_fat',\n      polysaturatedFatInput: 'polysaturated_fat',\n      monosaturatedFatInput: 'monosaturated_fat',\n      thiaminInput: 'thiamin',\n      riboflavinInput: 'riboflavin',\n      niacinInput: 'niacin',\n      folicAcidInput: 'folic_acid',\n      phosphorusInput: 'phosphorus',\n      vitaminAInput: 'vitamin_a',\n      vitaminB6Input: 'vitamin_b6',\n      vitaminCInput: 'vitamin_c',\n      vitaminDInput: 'vitamin_d',\n      vitaminEInput: 'vitamin_e',\n      vitaminKInput: 'vitamin_k'\n    };\n\n    for (const [inputId, dataKey] of Object.entries(fieldMapping)) {\n      const el = document.getElementById(inputId);\n      if (el) {\n        el.value = ingredient.data[dataKey] || '';\n      }\n    }\n  }\n\n  /**\n   * Open daily plan editor panel\n   */\n  static openDailyPlanEditor() {\n    const panel = document.getElementById('dailyPlanEditPanel');\n    if (panel) {\n      panel.classList.add('active');\n    }\n  }\n\n  /**\n   * Close daily plan editor panel\n   */\n  static closeDailyPlanEditor() {\n    const panel = document.getElementById('dailyPlanEditPanel');\n    if (panel) {\n      panel.classList.remove('active');\n    }\n  }\n\n  /**\n   * Set daily plan editor title\n   */\n  static setDailyPlanEditorTitle(title) {\n    const titleEl = document.getElementById('dailyPlanEditPanelTitle');\n    if (titleEl) {\n      titleEl.textContent = title;\n    }\n  }\n\n  /**\n   * Clear daily plan form\n   */\n  static clearDailyPlanForm() {\n    const nameInput = document.getElementById('dailyPlanNameInput');\n    const searchBox = document.getElementById('menuSearchBoxForDailyPlan');\n\n    if (nameInput) nameInput.value = '';\n    if (searchBox) searchBox.value = '';\n  }\n\n  /**\n   * Open menu editor panel\n   */\n  static openMenuEditor() {\n    const panel = document.getElementById('menuEditPanel');\n    if (panel) {\n      panel.classList.add('active');\n    }\n  }\n\n  /**\n   * Close menu editor panel\n   */\n  static closeMenuEditor() {\n    const panel = document.getElementById('menuEditPanel');\n    if (panel) {\n      panel.classList.remove('active');\n    }\n  }\n\n  /**\n   * Set menu editor title\n   */\n  static setMenuEditorTitle(title) {\n    const titleEl = document.getElementById('menuEditPanelTitle');\n    if (titleEl) {\n      titleEl.textContent = title;\n    }\n  }\n\n  /**\n   * Clear menu form\n   */\n  static clearMenuForm() {\n    const nameInput = document.getElementById('menuNameInput');\n    const searchBox = document.getElementById('recipeSearchBox');\n\n    if (nameInput) nameInput.value = '';\n    if (searchBox) searchBox.value = '';\n  }\n}\n", "/**\n * Validation Utilities\n * Form validation helpers\n */\n\n/**\n * Validate recipe data\n */\nexport function validateRecipe(recipeName, ingredients) {\n  const errors = [];\n\n  if (!recipeName || recipeName.trim().length === 0) {\n    errors.push({ field: 'recipeNameError', message: 'Recipe name is required' });\n  }\n\n  if (!ingredients || ingredients.length === 0) {\n    errors.push({ field: 'ingredientsError', message: 'At least one ingredient is required' });\n  }\n\n  if (ingredients) {\n    for (const ing of ingredients) {\n      if (!ing.amount || ing.amount <= 0) {\n        errors.push({ field: 'ingredientsError', message: 'All ingredients must have valid amounts' });\n        break;\n      }\n    }\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors\n  };\n}\n\n/**\n * Validate ingredient data\n */\nexport function validateIngredient(name, serving) {\n  const errors = [];\n\n  if (!name || name.trim().length === 0) {\n    errors.push({ field: 'ingredientNameError', message: 'Ingredient name is required' });\n  }\n\n  if (!serving || serving <= 0) {\n    errors.push({ field: 'ingredientNameError', message: 'Valid serving size is required' });\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors\n  };\n}\n\n/**\n * Validate settings data\n */\nexport function validateSettings(caloriesPerDay, useAge, age) {\n  const errors = [];\n\n  if (!caloriesPerDay || caloriesPerDay < 300 || caloriesPerDay > 5000) {\n    errors.push({ field: 'caloriesPerDay', message: 'Calories must be between 300 and 5000' });\n  }\n\n  if (useAge && (!age || age < 6 || age > 100)) {\n    errors.push({ field: 'age', message: 'Age must be between 6 and 100' });\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors\n  };\n}\n", "/**\n * DOM Utilities\n * Helper functions for DOM manipulation\n */\n\n/**\n * Enable/disable buttons\n */\nexport function setButtonsDisabled(buttonIds, disabled) {\n  buttonIds.forEach(id => {\n    const btn = document.getElementById(id);\n    if (btn) {\n      btn.disabled = disabled;\n    }\n  });\n}\n\n/**\n * Toggle dropdown visibility\n */\nexport function toggleDropdown(dropdownId) {\n  const dropdown = document.getElementById(dropdownId);\n  if (dropdown) {\n    dropdown.classList.toggle('show');\n  }\n}\n\n/**\n * Close dropdown\n */\nexport function closeDropdown(dropdownId) {\n  const dropdown = document.getElementById(dropdownId);\n  if (dropdown) {\n    dropdown.classList.remove('show');\n  }\n}\n\n/**\n * Toggle mobile menu\n */\nexport function toggleMobileMenu() {\n  const mobileMenu = document.getElementById('mobileMenu');\n  if (mobileMenu) {\n    mobileMenu.classList.toggle('show');\n  }\n}\n\n/**\n * Close mobile menu\n */\nexport function closeMobileMenu() {\n  const mobileMenu = document.getElementById('mobileMenu');\n  if (mobileMenu) {\n    mobileMenu.classList.remove('show');\n  }\n}\n\n/**\n * Setup event delegation for a container\n */\nexport function setupEventDelegation(container, actions) {\n  if (!container) return;\n\n  container.addEventListener('click', (e) => {\n    const target = e.target.closest('[data-action]');\n    if (!target) return;\n\n    const action = target.dataset.action;\n    const handler = actions[action];\n\n    if (handler) {\n      handler(target, e);\n    }\n  });\n\n  // Also handle change events for form inputs\n  container.addEventListener('change', (e) => {\n    const target = e.target.closest('[data-action]');\n    if (!target) return;\n\n    const action = target.dataset.action;\n    const handler = actions[action];\n\n    if (handler) {\n      handler(target, e);\n    }\n  });\n}\n\n/**\n * Hide element by setting display to none\n */\nexport function hideElement(elementId) {\n  const element = document.getElementById(elementId);\n  if (element) {\n    element.style.display = 'none';\n  }\n}\n\n/**\n * Show element by setting display to block\n */\nexport function showElement(elementId, display = 'block') {\n  const element = document.getElementById(elementId);\n  if (element) {\n    element.style.display = display;\n  }\n}\n", "// Diet Guidelines Client - Phase 3: Renderers & Utilities Integration\n// UI rendering extracted to dedicated modules, event delegation introduced\n\n// Import core modules\nimport { State } from './core/State.js';\nimport { Router } from './core/Router.js';\nimport { APIClient as API } from './core/APIClient.js';\n\n// Import managers\nimport { DailyPlanManager } from './managers/DailyPlanManager.js';\nimport { MenuManager } from './managers/MenuManager.js';\nimport { RecipeManager } from './managers/RecipeManager.js';\nimport { IngredientManager } from './managers/IngredientManager.js';\nimport { SettingsManager } from './managers/SettingsManager.js';\n\n// Import renderers\nimport { DailyPlanRenderer } from './renderers/DailyPlanRenderer.js';\nimport { MenuRenderer } from './renderers/MenuRenderer.js';\nimport { RecipeRenderer } from './renderers/RecipeRenderer.js';\nimport { IngredientRenderer } from './renderers/IngredientRenderer.js';\nimport { FormRenderer } from './renderers/FormRenderer.js';\n\n// Import utilities\nimport { validateRecipe, validateIngredient } from './utils/Validation.js';\nimport { setButtonsDisabled, toggleDropdown, closeDropdown, toggleMobileMenu, closeMobileMenu, setupEventDelegation, hideElement } from './utils/dom.js';\n\nclass Client {\n\n    // Maps ingredient name to its properties\n    static INGREDIENT_PROPS = {\n        oxalates: { unit: \"mg\" },\n        calories: { unit: \"none\" },\n        sodium: { unit: \"mg\" },\n        cholesterol: { unit: \"mg\" },\n        sugars: { unit: \"g\" },\n        protein: { unit: \"g\" },\n        dietary_fiber: { unit: \"g\" },\n        carbohydrates: { unit: \"g\" },\n        calcium: { unit: \"mg\" },\n        potassium: { unit: \"mg\" },\n        magnesium: { unit: \"mg\" },\n        selenium: { unit: \"mcg\" },\n        manganese: { unit: \"mg\" },\n        zinc: { unit: \"mg\" },\n        iron: { unit: \"mg\" },\n        fat: { unit: \"g\" },\n        saturated_fat: { unit: \"g\" },\n        polysaturated_fat: { unit: \"g\" },\n        monosaturated_fat: { unit: \"g\" },\n        thiamin: { unit: \"mg\" },\n        riboflavin: { unit: \"mg\" },\n        niacin: { unit: \"mg\" },\n        folic_acid: { unit: \"mcg\" },\n        phosphorus: { unit: \"mg\" },\n        vitamin_a: { unit: \"mcg\" },\n        vitamin_b6: { unit: \"mg\" },\n        vitamin_c: { unit: \"mg\" },\n        vitamin_d: { unit: \"mcg\" },\n        vitamin_e: { unit: \"mg\" },\n        vitamin_k: { unit: \"mcg\" },\n    };\n\n    constructor() {\n        // Initialize managers\n        this.dailyPlanManager = new DailyPlanManager();\n        this.menuManager = new MenuManager();\n        this.recipeManager = new RecipeManager();\n        this.ingredientManager = new IngredientManager();\n        this.settingsManager = new SettingsManager();\n\n        // Legacy properties - kept for compatibility\n        this.menus = [];\n        this.selectedMenuId = null;\n        this.recipes = [];\n        this.ingredients = [];\n        this.selectedRecipeId = null;\n        this.selectedIngredientId = null;\n        this.config = {};\n        this.kidneyStoneRiskData = {};\n        this.dailyRequirements = {};\n        this.userSettings = {\n            caloriesPerDay: 2000,\n            age: null,\n            useAge: false,\n            kidneyStoneRisk: 'Normal'\n        };\n        this.dailyPlans = [];\n        this.selectedDailyPlanId = null;\n        this.editingDailyPlanId = null;\n        this.selectedMenusForDailyPlan = [];\n        this.menuSearchTimeout = null;\n        this.showAllDailyNutrients = false;\n        this.currentDailyNutrientPage = 0;\n\n        // Editor state\n        this.editingMenuId = null;\n        this.selectedRecipesForMenu = [];\n        this.recipeSearchTimeout = null;\n        this.editingRecipeId = null;\n        this.selectedIngredientsForRecipe = [];\n        this.ingredientSearchTimeout = null;\n        this.editingIngredientId = null;\n\n        // Nutrient view state\n        this.showAllNutrients = false;\n        this.currentNutrientPage = 0;\n        this.NUTRIENTS_PER_PAGE = 5;\n\n        // Setup state synchronization\n        this.setupStateSync();\n    }\n\n    // Sync legacy properties with State\n    setupStateSync() {\n        State.subscribe('dailyPlans', (newValue) => {\n            this.dailyPlans = newValue;\n            this.updateHomeCounts();\n        });\n\n        State.subscribe('selectedDailyPlanId', (newValue) => {\n            this.selectedDailyPlanId = newValue;\n        });\n\n        State.subscribe('editingDailyPlanId', (newValue) => {\n            this.editingDailyPlanId = newValue;\n        });\n\n        State.subscribe('selectedMenusForDailyPlan', (newValue) => {\n            this.selectedMenusForDailyPlan = newValue;\n            DailyPlanRenderer.renderSelectedMenus(\n                newValue,\n                (index) => this.dailyPlanManager.removeMenuFromDailyPlan(index),\n                (index, type) => this.dailyPlanManager.updateMenuType(index, type)\n            );\n        });\n\n        State.subscribe('showAllDailyNutrients', (newValue) => {\n            this.showAllDailyNutrients = newValue;\n        });\n\n        State.subscribe('currentDailyNutrientPage', (newValue) => {\n            this.currentDailyNutrientPage = newValue;\n        });\n        State.subscribe('menus', (newValue) => {\n            this.menus = newValue;\n            this.updateHomeCounts();\n        });\n\n        State.subscribe('selectedMenuId', (newValue) => {\n            this.selectedMenuId = newValue;\n        });\n\n        State.subscribe('editingMenuId', (newValue) => {\n            this.editingMenuId = newValue;\n        });\n\n        State.subscribe('selectedRecipesForMenu', (newValue) => {\n            this.selectedRecipesForMenu = newValue;\n            MenuRenderer.renderSelectedRecipes(newValue, (index) => {\n                this.menuManager.removeRecipeFromMenu(index);\n            });\n        });\n        State.subscribe('recipes', (newValue) => {\n            this.recipes = newValue;\n            this.updateHomeCounts();\n        });\n\n        State.subscribe('ingredients', (newValue) => {\n            this.ingredients = newValue;\n            this.updateHomeCounts();\n        });\n\n        State.subscribe('selectedRecipeId', (newValue) => {\n            this.selectedRecipeId = newValue;\n        });\n\n        State.subscribe('selectedIngredientId', (newValue) => {\n            this.selectedIngredientId = newValue;\n        });\n\n        State.subscribe('config', (newValue) => {\n            this.config = newValue;\n        });\n\n        State.subscribe('kidneyStoneRiskData', (newValue) => {\n            this.kidneyStoneRiskData = newValue;\n        });\n\n        State.subscribe('dailyRequirements', (newValue) => {\n            this.dailyRequirements = newValue;\n        });\n\n        State.subscribe('userSettings', (newValue) => {\n            this.userSettings = newValue;\n        });\n\n        State.subscribe('editingRecipeId', (newValue) => {\n            this.editingRecipeId = newValue;\n        });\n\n        State.subscribe('selectedIngredientsForRecipe', (newValue) => {\n            this.selectedIngredientsForRecipe = newValue;\n            FormRenderer.renderSelectedIngredients(newValue, {\n                amount: (index, value) => this.recipeManager.updateIngredientAmount(index, value),\n                unit: (index, value) => this.recipeManager.updateIngredientUnit(index, value)\n            });\n        });\n\n        State.subscribe('editingIngredientId', (newValue) => {\n            this.editingIngredientId = newValue;\n        });\n\n        State.subscribe('showAllNutrients', (newValue) => {\n            this.showAllNutrients = newValue;\n        });\n\n        State.subscribe('currentNutrientPage', (newValue) => {\n            this.currentNutrientPage = newValue;\n        });\n    }\n\n    // Initialize app\n    // Replace your init() method with this version:\n\n    async init() {\n        console.log('\uD83D\uDFE2 Client init started');\n\n        try {\n            // Load user settings (synchronous)\n            this.settingsManager.loadUserSettings();\n\n            // Load configuration data\n            await this.settingsManager.loadConfig();\n            await this.settingsManager.loadKidneyStoneRiskData();\n            await this.settingsManager.loadDailyRequirements();\n\n            // Load core data\n            await this.recipeManager.loadRecipes();\n            await this.ingredientManager.loadIngredients();\n            await this.menuManager.loadMenus();\n\n            // Load daily plans (optional - may not have backend yet)\n            try {\n                await this.dailyPlanManager.loadDailyPlans();\n            } catch (error) {\n                console.warn('\u26A0\uFE0F Daily plans not available yet:', error.message);\n                // Set empty array so the UI doesn't break\n                State.set('dailyPlans', []);\n            }\n\n            // Setup UI\n            this.settingsManager.applyUIConfig();\n            this.setupEventListeners();\n            this.setupEventDelegation();\n            this.updateHomeCounts();\n\n            // Navigate to initial page\n            const page = window.location.hash.slice(1) || 'home';\n            this.navigateTo(page, false);\n\n            console.log('\u2705 Client init completed successfully');\n\n        } catch (error) {\n            console.error('\u274C Client init failed:', error);\n            console.error('Stack trace:', error.stack);\n\n            // Still try to setup event listeners so the app isn't completely broken\n            try {\n                this.setupEventListeners();\n                this.setupEventDelegation();\n                this.navigateTo('home', false);\n                console.log('\u26A0\uFE0F App running in degraded mode');\n            } catch (e) {\n                console.error('\u274C Cannot recover from init failure');\n            }\n        }\n    }\n\n    // Update home page counts\n    updateHomeCounts() {\n        const recipeCountEl = document.getElementById('recipeCount');\n        const ingredientCountEl = document.getElementById('ingredientCount');\n        const menuCountEl = document.getElementById('menuCount');\n        const dailyPlanCountEl = document.getElementById('dailyPlanCount');\n\n        if (menuCountEl) menuCountEl.textContent = this.menus.length;\n        if (recipeCountEl) recipeCountEl.textContent = this.recipes.length;\n        if (ingredientCountEl) ingredientCountEl.textContent = this.ingredients.length;\n        if (dailyPlanCountEl) dailyPlanCountEl.textContent = this.dailyPlans.length;\n    }\n\n    // Navigation\n    // Replace your navigateTo method with this version:\n\n    navigateTo(page, pushState = true) {\n        closeDropdown('accountDropdown');\n        closeMobileMenu();\n\n        window.scrollTo(0, 0);\n\n        // Remove active class from all pages\n        document.querySelectorAll('.page').forEach(p => {\n            p.classList.remove('active');\n        });\n\n        // Add active class to target page\n        const pageElement = document.getElementById(`${page}Page`);\n\n        if (pageElement) {\n            pageElement.classList.add('active');\n\n            // Update ARIA attributes\n            const accountBtn = document.querySelector('[data-action=\"toggle-account-dropdown\"]');\n            if (accountBtn) {\n                accountBtn.setAttribute('aria-expanded', 'false');\n            }\n\n            const mobileBtn = document.querySelector('[data-action=\"toggle-mobile-menu\"]');\n            if (mobileBtn) {\n                mobileBtn.setAttribute('aria-expanded', 'false');\n            }\n\n            if (pushState) {\n                history.pushState({ page }, '', `#${page}`);\n            }\n\n            // Call page-specific initialization\n            if (page === 'settings') {\n                this.loadSettingsForm();\n            } else if (page === 'ingredients') {\n                this.renderIngredientList(this.ingredients);\n            } else if (page === 'recipes') {\n                this.renderRecipeList(this.recipes);\n            } else if (page === 'menus') {\n                this.renderMenuList(this.menus);\n            } else if (page === 'dailyPlans') {\n                this.renderDailyPlanList(this.dailyPlans);\n            }\n        } else {\n            console.warn(`Page not found: ${page}Page`);\n            // Fallback to home if page doesn't exist\n            const homePage = document.getElementById('homePage');\n            if (homePage) {\n                homePage.classList.add('active');\n                if (pushState) {\n                    history.pushState({ page: 'home' }, '', '#home');\n                }\n            }\n        }\n    }\n    // Account dropdown\n    toggleAccountDropdown() {\n        const btn = document.querySelector('[data-action=\"toggle-account-dropdown\"]');\n        const dropdown = document.getElementById('accountDropdown');\n\n        if (dropdown && btn) {\n            const isExpanded = dropdown.classList.toggle('show');\n            btn.setAttribute('aria-expanded', isExpanded ? 'true' : 'false');\n        }\n    }\n\n    closeAccountDropdown() {\n        closeDropdown('accountDropdown');\n    }\n\n    // Mobile menu\n    toggleMobileMenu() {\n        toggleMobileMenu();\n    }\n\n    closeMobileMenu() {\n        closeMobileMenu();\n    }\n\n    // Setup event listeners (non-delegated)\n    setupEventListeners() {\n        // console.warn('setupEventListeners called')\n        window.addEventListener('popstate', (event) => {\n            const page = event.state?.page || 'home';\n            this.navigateTo(page, false);\n        });\n\n        const dailyPlanSearchInput = document.getElementById('dailyPlanSearchInput');\n        if (dailyPlanSearchInput) {\n            dailyPlanSearchInput.addEventListener('input', (e) => {\n                this.filterDailyPlans(e.target.value);\n            });\n        }\n\n        const dailyPlanEditForm = document.getElementById('dailyPlanEditForm');\n        if (dailyPlanEditForm) {\n            dailyPlanEditForm.addEventListener('submit', (e) => this.saveDailyPlan(e));\n        }\n\n        const menuSearchBoxForDailyPlan = document.getElementById('menuSearchBoxForDailyPlan');\n        if (menuSearchBoxForDailyPlan) {\n            menuSearchBoxForDailyPlan.addEventListener('input', (e) => {\n                this.handleMenuSearchForDailyPlan(e.target.value);\n            });\n        }\n\n        // Global click handler for data-action elements\n        document.addEventListener('click', (e) => {\n            const actionElement = e.target.closest('[data-action]');\n\n            if (actionElement) {\n                e.preventDefault();\n                this.handleAction(actionElement);\n            }\n\n            // Close dropdowns when clicking outside\n            if (!e.target.closest('.account-dropdown')) {\n                this.closeAccountDropdown();\n            }\n            if (!e.target.closest('.ingredient-search')) {\n                FormRenderer.hideSearchResults();\n            }\n        });\n\n        // Keyboard navigation for feature cards\n        document.addEventListener('keydown', (e) => {\n            const actionElement = e.target.closest('[data-action]');\n\n            if (actionElement && (e.key === 'Enter' || e.key === ' ')) {\n                e.preventDefault();\n                this.handleAction(actionElement);\n            }\n\n            // Escape key for closing panels\n            if (e.key === 'Escape') {\n                const recipePanel = document.getElementById('recipeEditPanel');\n                const ingredientPanel = document.getElementById('ingredientEditPanel');\n\n                if (recipePanel && recipePanel.classList.contains('active')) {\n                    this.closeRecipeEditor();\n                } else if (ingredientPanel && ingredientPanel.classList.contains('active')) {\n                    this.closeIngredientEditor();\n                }\n            }\n        });\n\n        const searchInput = document.getElementById('searchInput');\n        if (searchInput) {\n            searchInput.addEventListener('input', (e) => {\n                this.filterRecipes(e.target.value);\n            });\n        }\n\n        const summaryCheckbox = document.getElementById('summaryCheckbox');\n        if (summaryCheckbox) {\n            summaryCheckbox.addEventListener('change', () => {\n                if (this.selectedRecipeId) {\n                    this.showRecipeDetails(this.selectedRecipeId);\n                }\n            });\n        }\n\n        const settingsForm = document.getElementById('settingsForm');\n        if (settingsForm) {\n            settingsForm.addEventListener('submit', (e) => this.applySettings(e));\n        }\n\n        const recipeEditForm = document.getElementById('recipeEditForm');\n        if (recipeEditForm) {\n            recipeEditForm.addEventListener('submit', (e) => this.saveRecipe(e));\n        }\n\n        const ingredientEditForm = document.getElementById('ingredientEditForm');\n        if (ingredientEditForm) {\n            ingredientEditForm.addEventListener('submit', (e) => this.saveIngredient(e));\n        }\n\n        const useAgeCheckbox = document.getElementById('useAgeCheckbox');\n        if (useAgeCheckbox) {\n            useAgeCheckbox.addEventListener('change', (e) => {\n                document.getElementById('ageInput').disabled = !e.target.checked;\n            });\n        }\n\n        const kidneyRiskSelect = document.getElementById('kidneyRiskSelect');\n        if (kidneyRiskSelect) {\n            kidneyRiskSelect.addEventListener('change', () => this.updateKidneyRiskInfo());\n        }\n\n        const ingredientSearchInput = document.getElementById('ingredientSearchInput');\n        if (ingredientSearchInput) {\n            ingredientSearchInput.addEventListener('input', (e) => {\n                this.filterIngredients(e.target.value);\n            });\n        }\n\n        const ingredientSearchBox = document.getElementById('ingredientSearchBox');\n        if (ingredientSearchBox) {\n            ingredientSearchBox.addEventListener('input', (e) => {\n                this.handleIngredientSearch(e.target.value);\n            });\n        }\n        const menuSearchInput = document.getElementById('menuSearchInput');\n        if (menuSearchInput) {\n            menuSearchInput.addEventListener('input', (e) => {\n                this.filterMenus(e.target.value);\n            });\n        }\n\n        const menuEditForm = document.getElementById('menuEditForm');\n        if (menuEditForm) {\n            menuEditForm.addEventListener('submit', (e) => this.saveMenu(e));\n        }\n\n        const recipeSearchBox = document.getElementById('recipeSearchBox');\n        if (recipeSearchBox) {\n            recipeSearchBox.addEventListener('input', (e) => {\n                this.handleRecipeSearch(e.target.value);\n            });\n        }\n    }\n\n    // Handle data-action clicks\n    async handleAction(element) {\n        const action = element.dataset.action;\n        const page = element.dataset.page;\n        const recipeId = element.dataset.recipeId;\n        const ingredientId = element.dataset.ingredientId;\n        const menuId = element.dataset.menuId;\n\n        switch (action) {\n            case 'navigate':\n                if (page) this.navigateTo(page);\n                break;\n            case 'toggle-account-dropdown':\n                this.toggleAccountDropdown();\n                break;\n            case 'toggle-mobile-menu':\n                this.toggleMobileMenu();\n                break; case 'toggle-nutrient-view':\n                this.toggleNutrientView();\n                break;\n            case 'prev-nutrient-page':\n                this.prevNutrientPage();\n                break;\n            case 'next-nutrient-page':\n                this.nextNutrientPage();\n                break;\n            case 'select-recipe':\n                if (recipeId) {\n                    this.selectRecipe(recipeId);\n                    await this.showRecipeDetails(recipeId);\n                }\n                break;\n            case 'select-ingredient':\n                if (ingredientId) {\n                    this.selectIngredient(ingredientId);\n                    await this.showIngredientDetails(ingredientId);\n                }\n                break;\n            case 'select-menu':\n                if (menuId) {\n                    this.selectMenu(menuId);\n                    await this.showMenuDetails(menuId);\n                }\n                break;\n            case 'create-recipe':\n                this.createRecipe();\n                break;\n            case 'edit-recipe':\n                this.editRecipe();\n                break;\n            case 'delete-recipe':\n                this.deleteRecipe();\n                break;\n            case 'close-recipe-editor':\n                this.closeRecipeEditor();\n                break;\n            case 'create-ingredient':\n                this.createIngredient();\n                break;\n            case 'edit-ingredient':\n                this.editIngredient();\n                break;\n            case 'delete-ingredient':\n                this.deleteIngredient();\n                break;\n            case 'close-ingredient-editor':\n                this.closeIngredientEditor();\n                break;\n            case 'cancel-settings':\n                this.cancelSettings();\n                break;\n            case 'create-menu':\n                this.createMenu();\n                break;\n            case 'edit-menu':\n                this.editMenu();\n                break;\n            case 'delete-menu':\n                this.deleteMenu();\n                break;\n            case 'close-menu-editor':\n                this.closeMenuEditor();\n                break;\n            case 'select-daily-plan':\n                if (dailyPlanId) {\n                    this.selectDailyPlan(dailyPlanId);\n                    await this.showDailyPlanDetails(dailyPlanId);\n                }\n                break;\n            case 'create-daily-plan':\n                this.createDailyPlan();\n                break;\n            case 'edit-daily-plan':\n                this.editDailyPlan();\n                break;\n            case 'delete-daily-plan':\n                this.deleteDailyPlan();\n                break;\n            case 'close-daily-plan-editor':\n                this.closeDailyPlanEditor();\n                break;\n            default:\n                console.warn('Unknown action:', action);\n        }\n    }\n\n    // Setup event delegation for dynamically created content\n    setupEventDelegation() {\n\n        const menuRowsForDailyPlan = document.getElementById('menuRowsForDailyPlan');\n        if (menuRowsForDailyPlan) {\n            setupEventDelegation(menuRowsForDailyPlan, {\n                'remove-menu-from-daily-plan': (target) => {\n                    const index = parseInt(target.dataset.index);\n                    this.dailyPlanManager.removeMenuFromDailyPlan(index);\n                }\n            });\n        }\n\n        // const menuSearchResultsForDailyPlan = document.getElementById('menuSearchResultsForDailyPlan');\n        // if (menuSearchResultsForDailyPlan) {\n        //     setupEventDelegation(menuSearchResultsForDailyPlan, {\n        //         'add-menu-to-daily-plan': (target) => {\n        //             this.addMenuToDailyPlan({\n        //                 id: target.dataset.menuId,\n        //                 name: target.dataset.menuName\n        //             });\n        //         }\n        //     });\n        // }\n\n        // const dailyPlanDetails = document.getElementById('dailyPlanDetailsContent');\n        // if (dailyPlanDetails) {\n        //     setupEventDelegation(dailyPlanDetails, {\n        //         'toggle-daily-nutrient-view': () => this.toggleDailyNutrientView(),\n        //         'prev-daily-nutrient-page': () => this.prevDailyNutrientPage(),\n        //         'next-daily-nutrient-page': () => this.nextDailyNutrientPage()\n        //     });\n        // }\n\n        // Recipe rows in menu editor\n        const recipeRows = document.getElementById('recipeRows');\n        if (recipeRows) {\n            setupEventDelegation(recipeRows, {\n                'remove-recipe': (target) => {\n                    const index = parseInt(target.dataset.index);\n                    this.menuManager.removeRecipeFromMenu(index);\n                }\n            });\n        }\n\n        // Recipe search results for menu editor\n        // const recipeSearchResults = document.getElementById('recipeSearchResults');\n        // if (recipeSearchResults) {\n        //     setupEventDelegation(recipeSearchResults, {\n        //         'add-recipe-to-menu': (target) => {\n        //             this.addRecipeToMenu({\n        //                 id: target.dataset.recipeId,\n        //                 name: target.dataset.recipeName\n        //             });\n        //         }\n        //     });\n        // }\n        // Recipe details section\n        // const recipeDetails = document.getElementById('recipeDetailsContent');\n        // if (recipeDetails) {\n        //     setupEventDelegation(recipeDetails, {\n        //         'toggle-nutrient-view': () => this.toggleNutrientView(),\n        //         'prev-nutrient-page': () => this.prevNutrientPage(),\n        //         'next-nutrient-page': () => this.nextNutrientPage()\n        //     });\n        // }\n\n        // Ingredient rows in recipe editor - only handle remove button\n        const ingredientRows = document.getElementById('ingredientRows');\n        if (ingredientRows) {\n            setupEventDelegation(ingredientRows, {\n                'remove-ingredient': (target) => {\n                    const index = parseInt(target.dataset.index);\n                    this.recipeManager.removeIngredientFromRecipe(index);\n                }\n            });\n        }\n\n        // Ingredient search results\n        const searchResults = document.getElementById('ingredientSearchResults');\n        if (searchResults) {\n            setupEventDelegation(searchResults, {\n                'add-ingredient-to-recipe': (target) => {\n                    this.addIngredientToRecipe({\n                        id: target.dataset.ingredientId,\n                        name: target.dataset.ingredientName\n                    });\n                }\n            });\n        }\n    }\n\n    // Render recipe list\n    renderRecipeList(recipesToShow) {\n        RecipeRenderer.renderList(recipesToShow, (recipeId) => {\n            this.selectRecipe(recipeId);\n            this.showRecipeDetails(recipeId);\n        });\n\n        // Load summaries asynchronously\n        recipesToShow.forEach(recipe => {\n            this.fetchRecipeSummary(recipe.id).then(data => {\n                if (data) {\n                    RecipeRenderer.updateRecipeItemWithSummary(\n                        recipe.id,\n                        data,\n                        (ox) => this.recipeManager.calculateOxalateRisk(ox)\n                    );\n                }\n            });\n        });\n    }\n\n    // Fetch recipe summary\n    async fetchRecipeSummary(recipeId) {\n        try {\n            return await this.recipeManager.getRecipe(recipeId, true);\n        } catch (error) {\n            console.error('Error fetching recipe summary:', error);\n            return null;\n        }\n    }\n\n    // Filter recipes\n    filterRecipes(searchTerm) {\n        const filtered = this.recipeManager.filterRecipes(searchTerm);\n        this.renderRecipeList(filtered);\n    }\n\n    // Select recipe\n    selectRecipe(recipeId) {\n        RecipeRenderer.markAsSelected(recipeId);\n        this.recipeManager.selectRecipe(recipeId);\n        setButtonsDisabled(['editRecipeBtn', 'deleteRecipeBtn'], false);\n    }\n\n    // Show recipe details\n    async showRecipeDetails(recipeId) {\n        const summaryCheckbox = document.getElementById('summaryCheckbox');\n        const summary = summaryCheckbox ? summaryCheckbox.checked : true;\n\n        try {\n            const data = await this.recipeManager.getRecipe(recipeId, summary);\n            RecipeRenderer.renderDetails(data, {\n                dailyRequirements: this.dailyRequirements,\n                userSettings: this.userSettings,\n                showAllNutrients: this.showAllNutrients,\n                currentNutrientPage: this.currentNutrientPage,\n                calculateOxalateRisk: (ox) => this.recipeManager.calculateOxalateRisk(ox),\n                calculateContributions: (d) => this.recipeManager.calculateContributions(d),\n                INGREDIENT_PROPS: Client.INGREDIENT_PROPS,\n                NUTRIENTS_PER_PAGE: this.NUTRIENTS_PER_PAGE\n            });\n        } catch (error) {\n            console.error('Error loading recipe details:', error);\n            RecipeRenderer.showError('Failed to load recipe details');\n        }\n    }\n\n    // Nutrient view navigation\n    toggleNutrientView() {\n        this.recipeManager.toggleNutrientView();\n        if (this.selectedRecipeId) {\n            this.showRecipeDetails(this.selectedRecipeId);\n        }\n    }\n\n    prevNutrientPage() {\n        this.recipeManager.prevNutrientPage();\n        if (this.selectedRecipeId) {\n            this.showRecipeDetails(this.selectedRecipeId);\n        }\n    }\n\n    nextNutrientPage() {\n        this.recipeManager.nextNutrientPage();\n        if (this.selectedRecipeId) {\n            this.showRecipeDetails(this.selectedRecipeId);\n        }\n    }\n\n    // Settings\n    loadSettingsForm() {\n        const caloriesPerDayInput = document.getElementById('caloriesPerDayInput');\n        const useAgeCheckbox = document.getElementById('useAgeCheckbox');\n        const ageInput = document.getElementById('ageInput');\n        const kidneyRiskSelect = document.getElementById('kidneyRiskSelect');\n\n        if (caloriesPerDayInput) caloriesPerDayInput.value = this.userSettings.caloriesPerDay;\n        if (useAgeCheckbox) useAgeCheckbox.checked = this.userSettings.useAge;\n        if (ageInput) {\n            ageInput.value = this.userSettings.age || '';\n            ageInput.disabled = !this.userSettings.useAge;\n        }\n        if (kidneyRiskSelect) kidneyRiskSelect.value = this.userSettings.kidneyStoneRisk;\n\n        this.updateKidneyRiskInfo();\n    }\n\n    updateKidneyRiskInfo() {\n        const select = document.getElementById('kidneyRiskSelect');\n        const info = document.getElementById('kidneyRiskInfo');\n\n        if (!select || !info) return;\n\n        const riskLevel = select.value;\n        const data = this.settingsManager.getKidneyRiskInfo(riskLevel);\n\n        if (data) {\n            info.textContent = `Maximum ${data.maxOxalatesPerDay}mg oxalates per day - ${data.description}`;\n        }\n    }\n\n    applySettings(e) {\n        e.preventDefault();\n\n        const updates = {\n            caloriesPerDay: parseInt(document.getElementById('caloriesPerDayInput').value),\n            useAge: document.getElementById('useAgeCheckbox').checked,\n            age: document.getElementById('useAgeCheckbox').checked ? parseInt(document.getElementById('ageInput').value) : null,\n            kidneyStoneRisk: document.getElementById('kidneyRiskSelect').value\n        };\n\n        this.settingsManager.updateSettings(updates);\n        this.recipeManager.loadRecipes();\n        this.navigateTo('home');\n    }\n\n    cancelSettings() {\n        this.navigateTo('home');\n    }\n\n    // Ingredients\n    filterIngredients(searchTerm) {\n        const filtered = this.ingredientManager.filterIngredients(searchTerm);\n        this.renderIngredientList(filtered);\n    }\n\n    renderIngredientList(ingredientsToShow) {\n        IngredientRenderer.renderList(ingredientsToShow, (ingredientId) => {\n            this.selectIngredient(ingredientId);\n            this.showIngredientDetails(ingredientId);\n        });\n    }\n\n    selectIngredient(ingredientId) {\n        IngredientRenderer.markAsSelected(ingredientId, this.ingredients);\n        this.ingredientManager.selectIngredient(ingredientId);\n        setButtonsDisabled(['editIngredientBtn', 'deleteIngredientBtn'], false);\n    }\n\n    async showIngredientDetails(brandId) {\n        try {\n            const data = await this.ingredientManager.getIngredient(brandId);\n            IngredientRenderer.renderDetails(data);\n        } catch (error) {\n            console.error('Error loading ingredient details:', error);\n        }\n    }\n\n    // Recipe editor\n    createRecipe() {\n        this.recipeManager.startEdit(null);\n        FormRenderer.setRecipeEditorTitle('Create New Recipe');\n        FormRenderer.clearRecipeForm();\n        FormRenderer.renderSelectedIngredients([]);\n        FormRenderer.openRecipeEditor();\n    }\n\n    async editRecipe() {\n        if (!this.selectedRecipeId) return;\n\n        this.recipeManager.startEdit(this.selectedRecipeId);\n\n        try {\n            const recipe = await this.recipeManager.getRecipeFull(this.selectedRecipeId);\n\n            FormRenderer.setRecipeEditorTitle('Edit Recipe');\n            document.getElementById('recipeNameInput').value = recipe.name;\n            document.getElementById('ingredientSearchBox').value = '';\n\n            const ingredients = recipe.ingredients.map(ing => ({\n                brandId: ing.brandId,\n                name: ing.brandName,\n                amount: ing.amount,\n                unit: ing.unit\n            }));\n\n            State.set('selectedIngredientsForRecipe', ingredients);\n            FormRenderer.openRecipeEditor();\n        } catch (error) {\n            console.error('Error loading recipe for editing:', error);\n            alert('Failed to load recipe details');\n        }\n    }\n\n    async deleteRecipe() {\n        if (!this.selectedRecipeId) return;\n\n        const recipe = this.recipes.find(r => r.id == this.selectedRecipeId);\n        if (!recipe) return;\n\n        if (!confirm(`Delete recipe \"${recipe.name}\"? This cannot be undone.`)) {\n            return;\n        }\n\n        try {\n            await this.recipeManager.deleteRecipe(this.selectedRecipeId);\n            this.renderRecipeList(this.recipes);\n\n            this.recipeManager.deselectRecipe();\n            setButtonsDisabled(['editRecipeBtn', 'deleteRecipeBtn'], true);\n            hideElement('recipeDetailsSection');\n\n            alert('Recipe deleted successfully');\n        } catch (error) {\n            console.error('Error deleting recipe:', error);\n            alert('Failed to delete recipe');\n        }\n    }\n\n    closeRecipeEditor() {\n        FormRenderer.closeRecipeEditor();\n        this.recipeManager.cancelEdit();\n        FormRenderer.clearRecipeForm();\n        FormRenderer.hideSearchResults();\n        FormRenderer.clearErrors();\n    }\n\n    async saveRecipe(event) {\n        event.preventDefault();\n\n        const recipeName = document.getElementById('recipeNameInput').value.trim();\n        const validation = validateRecipe(recipeName, this.selectedIngredientsForRecipe);\n\n        if (!validation.valid) {\n            validation.errors.forEach(error => {\n                FormRenderer.showError(error.field, error.message);\n            });\n            return;\n        }\n\n        FormRenderer.clearErrors();\n\n        const payload = {\n            name: recipeName,\n            ingredients: this.selectedIngredientsForRecipe.map(ing => ({\n                brandId: ing.brandId,\n                amount: parseFloat(ing.amount),\n                unit: ing.unit\n            }))\n        };\n\n        try {\n            if (this.editingRecipeId) {\n                await this.recipeManager.updateRecipe(this.editingRecipeId, payload);\n                alert('Recipe updated successfully');\n                this.recipeManager.selectRecipe(this.editingRecipeId);\n                await this.showRecipeDetails(this.editingRecipeId);\n            } else {\n                await this.recipeManager.createRecipe(payload);\n                alert('Recipe created successfully');\n                const newRecipe = this.recipes.find(r => r.name == recipeName);\n                if (newRecipe) {\n                    this.recipeManager.selectRecipe(newRecipe.id);\n                    await this.showRecipeDetails(newRecipe.id);\n                }\n            }\n\n            this.renderRecipeList(this.recipes);\n            this.closeRecipeEditor();\n        } catch (error) {\n            console.error('Error saving recipe:', error);\n            FormRenderer.showError('ingredientsError', error.message || 'Failed to save recipe');\n        }\n    }\n\n    // Ingredient search for recipe editor\n    handleIngredientSearch(searchTerm) {\n        clearTimeout(this.ingredientSearchTimeout);\n\n        if (!searchTerm || searchTerm.trim().length < 2) {\n            FormRenderer.hideSearchResults();\n            return;\n        }\n\n        this.ingredientSearchTimeout = setTimeout(() => {\n            this.performIngredientSearch(searchTerm.trim());\n        }, 300);\n    }\n\n    async performIngredientSearch(searchTerm) {\n        try {\n            const results = await this.ingredientManager.searchIngredients(searchTerm);\n            FormRenderer.renderSearchResults(\n                results,\n                this.selectedIngredientsForRecipe,\n                (ingredient) => this.addIngredientToRecipe(ingredient)\n            );\n        } catch (error) {\n            console.error('Error searching ingredients:', error);\n        }\n    }\n\n    addIngredientToRecipe(ingredient) {\n        const added = this.recipeManager.addIngredientToRecipe(ingredient);\n\n        if (added) {\n            FormRenderer.hideSearchResults();\n            document.getElementById('ingredientSearchBox').value = '';\n        }\n    }\n\n    // Ingredient editor\n    createIngredient() {\n        this.ingredientManager.startEdit(null);\n        FormRenderer.setIngredientEditorTitle('Create New Ingredient');\n        FormRenderer.clearIngredientForm();\n        FormRenderer.clearErrors();\n        FormRenderer.openIngredientEditor();\n    }\n\n    async editIngredient() {\n        if (!this.selectedIngredientId) return;\n\n        this.ingredientManager.startEdit(this.selectedIngredientId);\n\n        try {\n            const ingredient = await this.ingredientManager.getIngredientFull(this.selectedIngredientId);\n            FormRenderer.setIngredientEditorTitle('Edit Ingredient');\n            FormRenderer.populateIngredientForm(ingredient);\n            FormRenderer.clearErrors();\n            FormRenderer.openIngredientEditor();\n        } catch (error) {\n            console.error('Error loading ingredient for editing:', error);\n            alert('Failed to load ingredient details');\n        }\n    }\n\n    async deleteIngredient() {\n        if (!this.selectedIngredientId) return;\n\n        const ingredient = this.ingredients.find(i => i.id == this.selectedIngredientId);\n        if (!ingredient) return;\n\n        if (!confirm(`Delete ingredient \"${ingredient.name}\"? This cannot be undone.`)) {\n            return;\n        }\n\n        try {\n            await this.ingredientManager.deleteIngredient(this.selectedIngredientId);\n            this.renderIngredientList(this.ingredients);\n\n            this.ingredientManager.deselectIngredient();\n            setButtonsDisabled(['editIngredientBtn', 'deleteIngredientBtn'], true);\n            hideElement('ingredientDetailsSection');\n\n            alert('Ingredient deleted successfully');\n        } catch (error) {\n            console.error('Error deleting ingredient:', error);\n            alert('Failed to delete ingredient');\n        }\n    }\n\n    closeIngredientEditor() {\n        FormRenderer.closeIngredientEditor();\n        this.ingredientManager.cancelEdit();\n        FormRenderer.clearErrors();\n    }\n\n    async saveIngredient(event) {\n        event.preventDefault();\n\n        const name = document.getElementById('ingredientNameInput').value.trim();\n        const serving = parseFloat(document.getElementById('servingSizeInput').value);\n        const servingUnit = document.getElementById('servingUnitSelect').value;\n        const density = parseFloat(document.getElementById('densityInput').value) || null;\n        const oxalatePerGram = parseFloat(document.getElementById('oxalateInput').value) || 0;\n\n        const validation = validateIngredient(name, serving);\n\n        if (!validation.valid) {\n            validation.errors.forEach(error => {\n                FormRenderer.showError(error.field, error.message);\n            });\n            return;\n        }\n\n        FormRenderer.clearErrors();\n\n        const data = {};\n\n        const addIfPresent = (id, field) => {\n            const element = document.getElementById(id);\n            if (!element) return;\n\n            const value = element.value;\n            if (value !== null && value !== undefined && value !== '') {\n                const numValue = parseFloat(value);\n                if (!isNaN(numValue)) {\n                    const unit = Client.INGREDIENT_PROPS[field]?.unit;\n                    if (!unit) {\n                        FormRenderer.showError('ingredientNameError', `No standard unit found for ${field}`);\n                    }\n                    data[field] = (unit === \"none\" ? numValue : `${numValue} ${unit}`);\n                }\n            }\n        };\n\n        addIfPresent('caloriesInput', 'calories');\n        addIfPresent('sodiumInput', 'sodium');\n        addIfPresent('cholesterolInput', 'cholesterol');\n        addIfPresent('sugarsInput', 'sugars');\n        addIfPresent('proteinInput', 'protein');\n        addIfPresent('dietaryFiberInput', 'dietary_fiber');\n        addIfPresent('carbohydratesInput', 'carbohydrates');\n        addIfPresent('calciumInput', 'calcium');\n        addIfPresent('potassiumInput', 'potassium');\n        addIfPresent('magnesiumInput', 'magnesium');\n        addIfPresent('seleniumInput', 'selenium');\n        addIfPresent('manganeseInput', 'manganese');\n        addIfPresent('zincInput', 'zinc');\n        addIfPresent('ironInput', 'iron');\n        addIfPresent('fatInput', 'fat');\n        addIfPresent('saturatedFatInput', 'saturated_fat');\n        addIfPresent('polysaturatedFatInput', 'polysaturated_fat');\n        addIfPresent('monosaturatedFatInput', 'monosaturated_fat');\n        addIfPresent('thiaminInput', 'thiamin');\n        addIfPresent('riboflavinInput', 'riboflavin');\n        addIfPresent('niacinInput', 'niacin');\n        addIfPresent('folicAcidInput', 'folic_acid');\n        addIfPresent('phosphorusInput', 'phosphorus');\n        addIfPresent('vitaminAInput', 'vitamin_a');\n        addIfPresent('vitaminB6Input', 'vitamin_b6');\n        addIfPresent('vitaminCInput', 'vitamin_c');\n        addIfPresent('vitaminDInput', 'vitamin_d');\n        addIfPresent('vitaminEInput', 'vitamin_e');\n        addIfPresent('vitaminKInput', 'vitamin_k');\n\n        const payload = {\n            name,\n            serving,\n            servingUnit,\n            density,\n            oxalatePerGram,\n            data\n        };\n\n        try {\n            if (this.editingIngredientId) {\n                await this.ingredientManager.updateIngredient(this.editingIngredientId, payload);\n                alert('Ingredient updated successfully');\n                await this.showIngredientDetails(this.editingIngredientId);\n                this.ingredientManager.selectIngredient(this.editingIngredientId);\n            } else {\n                await this.ingredientManager.createIngredient(payload);\n                alert('Ingredient created successfully');\n                const newIngredient = this.ingredients.find(i => i.name == name);\n                if (newIngredient) {\n                    await this.showIngredientDetails(newIngredient.id);\n                    this.ingredientManager.selectIngredient(newIngredient.id);\n                }\n            }\n\n            this.renderIngredientList(this.ingredients);\n            this.closeIngredientEditor();\n        } catch (error) {\n            console.error('Error saving ingredient:', error);\n            FormRenderer.showError('ingredientNameError', error.message || 'Failed to save ingredient');\n        }\n    }\n\n    // Menu List & Selection\n    renderMenuList(menusToShow) {\n        MenuRenderer.renderList(menusToShow, (menuId) => {\n            this.selectMenu(menuId);\n            this.showMenuDetails(menuId);\n        });\n\n        // Load summaries asynchronously\n        menusToShow.forEach(menu => {\n            this.fetchMenuSummary(menu.id).then(data => {\n                if (data) {\n                    MenuRenderer.updateMenuItemWithSummary(\n                        menu.id,\n                        data,\n                        (ox) => this.menuManager.calculateOxalateRisk(ox)\n                    );\n                }\n            });\n        });\n    }\n\n    async fetchMenuSummary(menuId) {\n        try {\n            const menu = await this.menuManager.getMenu(menuId);\n            return await this.menuManager.getMenuNutritionalData(menu);\n        } catch (error) {\n            console.error('Error fetching menu summary:', error);\n            return null;\n        }\n    }\n\n    filterMenus(searchTerm) {\n        const filtered = this.menuManager.filterMenus(searchTerm);\n        this.renderMenuList(filtered);\n    }\n\n    selectMenu(menuId) {\n        MenuRenderer.markAsSelected(menuId);\n        this.menuManager.selectMenu(menuId);\n        setButtonsDisabled(['editMenuBtn', 'deleteMenuBtn'], false);\n    }\n\n    async showMenuDetails(menuId) {\n        try {\n            const menu = await this.menuManager.getMenu(menuId);\n            const nutritionalData = await this.menuManager.getMenuNutritionalData(menu);\n\n            MenuRenderer.renderDetails(nutritionalData, {\n                dailyRequirements: this.dailyRequirements,\n                userSettings: this.userSettings,\n                calculateOxalateRisk: (ox) => this.menuManager.calculateOxalateRisk(ox),\n                INGREDIENT_PROPS: Client.INGREDIENT_PROPS\n            });\n        } catch (error) {\n            console.error('Error loading menu details:', error);\n            MenuRenderer.showError('Failed to load menu details');\n        }\n    }\n\n    // Menu CRUD Operations\n    createMenu() {\n        this.menuManager.startEdit(null);\n        FormRenderer.setMenuEditorTitle('Create New Menu');\n        FormRenderer.clearMenuForm();\n        MenuRenderer.renderSelectedRecipes([]);\n        FormRenderer.openMenuEditor();\n    }\n\n    async editMenu() {\n        if (!this.selectedMenuId) return;\n\n        this.menuManager.startEdit(this.selectedMenuId);\n\n        try {\n            const menu = await this.menuManager.getMenu(this.selectedMenuId);\n\n            FormRenderer.setMenuEditorTitle('Edit Menu');\n            document.getElementById('menuNameInput').value = menu.name;\n            document.getElementById('recipeSearchBox').value = '';\n\n            // Fetch recipe names for display\n            const recipePromises = menu.recipeIds.map(id =>\n                this.recipes.find(r => r.id === id)\n            );\n\n            const recipes = recipePromises\n                .filter(r => r !== undefined)\n                .map(r => ({ id: r.id, name: r.name }));\n\n            State.set('selectedRecipesForMenu', recipes);\n            FormRenderer.openMenuEditor();\n        } catch (error) {\n            console.error('Error loading menu for editing:', error);\n            alert('Failed to load menu details');\n        }\n    }\n\n    async deleteMenu() {\n        // if (!this.selectedMenuId) return;\n\n        const menu = this.menus.find(m => m.id == this.selectedMenuId);\n        if (!menu) return;\n\n        if (!confirm(`Delete menu \"${menu.name}\"? This cannot be undone.`)) {\n            return;\n        }\n\n        try {\n            await this.menuManager.deleteMenu(this.selectedMenuId);\n            this.renderMenuList(this.menus);\n\n            this.menuManager.deselectMenu();\n            setButtonsDisabled(['editMenuBtn', 'deleteMenuBtn'], true);\n            hideElement('menuDetailsSection');\n\n            alert('Menu deleted successfully');\n        } catch (error) {\n            console.error('Error deleting menu:', error);\n            alert('Failed to delete menu');\n        }\n    }\n\n    closeMenuEditor() {\n        FormRenderer.closeMenuEditor();\n        this.menuManager.cancelEdit();\n        FormRenderer.clearMenuForm();\n        MenuRenderer.hideRecipeSearchResults();\n        FormRenderer.clearErrors();\n    }\n\n    async saveMenu(event) {\n        event.preventDefault();\n\n        const menuName = document.getElementById('menuNameInput').value.trim();\n        const validation = this.validateMenu(menuName, this.selectedRecipesForMenu);\n\n        if (!validation.valid) {\n            validation.errors.forEach(error => {\n                FormRenderer.showError(error.field, error.message);\n            });\n            return;\n        }\n\n        FormRenderer.clearErrors();\n\n        const payload = {\n            name: menuName,\n            recipeIds: this.selectedRecipesForMenu.map(r => r.id)\n        };\n\n        try {\n            if (this.editingMenuId) {\n                await this.menuManager.updateMenu(this.editingMenuId, payload);\n                alert('Menu updated successfully');\n                this.menuManager.selectMenu(this.editingMenuId);\n                await this.showMenuDetails(this.editingMenuId);\n            } else {\n                await this.menuManager.createMenu(payload);\n                alert('Menu created successfully');\n                const newMenu = this.menus.find(m => m.name === menuName);\n                if (newMenu) {\n                    this.menuManager.selectMenu(newMenu.id);\n                    await this.showMenuDetails(newMenu.id);\n                }\n            }\n\n            this.renderMenuList(this.menus);\n            this.closeMenuEditor();\n        } catch (error) {\n            console.error('Error saving menu:', error);\n            FormRenderer.showError('recipesError', error.message || 'Failed to save menu');\n        }\n    }\n\n    // Menu Validation\n    validateMenu(menuName, recipes) {\n        const errors = [];\n\n        if (!menuName || menuName.trim().length === 0) {\n            errors.push({ field: 'menuNameError', message: 'Menu name is required' });\n        }\n\n        if (menuName && menuName.length > 64) {\n            errors.push({ field: 'menuNameError', message: 'Menu name cannot exceed 64 characters' });\n        }\n\n        if (!recipes || recipes.length === 0) {\n            errors.push({ field: 'recipesError', message: 'At least one recipe is required' });\n        }\n\n        if (recipes && recipes.length > 30) {\n            errors.push({ field: 'recipesError', message: 'Maximum 30 recipes allowed' });\n        }\n\n        return {\n            valid: errors.length === 0,\n            errors\n        };\n    }\n\n    // Recipe Search for Menu Editor\n    handleRecipeSearch(searchTerm) {\n        clearTimeout(this.recipeSearchTimeout);\n\n        if (!searchTerm || searchTerm.trim().length < 2) {\n            MenuRenderer.hideRecipeSearchResults();\n            return;\n        }\n\n        this.recipeSearchTimeout = setTimeout(() => {\n            this.performRecipeSearch(searchTerm.trim());\n        }, 300);\n    }\n\n    performRecipeSearch(searchTerm) {\n        const term = searchTerm.toLowerCase();\n        const results = this.recipes.filter(recipe =>\n            recipe.name.toLowerCase().includes(term)\n        );\n\n        MenuRenderer.renderRecipeSearchResults(\n            results,\n            this.selectedRecipesForMenu,\n            (recipe) => this.addRecipeToMenu(recipe)\n        );\n    }\n\n    addRecipeToMenu(recipe) {\n        const added = this.menuManager.addRecipeToMenu(recipe);\n\n        if (added) {\n            MenuRenderer.hideRecipeSearchResults();\n            document.getElementById('recipeSearchBox').value = '';\n        } else {\n            alert('This recipe is already in the menu');\n        }\n    }\n\n    // Daily Plan List & Selection\n    renderDailyPlanList(dailyPlansToShow) {\n        DailyPlanRenderer.renderList(dailyPlansToShow, (dailyPlanId) => {\n            this.selectDailyPlan(dailyPlanId);\n            this.showDailyPlanDetails(dailyPlanId);\n        });\n\n        // Load summaries asynchronously\n        dailyPlansToShow.forEach(plan => {\n            this.fetchDailyPlanSummary(plan.id).then(data => {\n                if (data && Object.keys(data).length) {\n                    DailyPlanRenderer.updateDailyPlanItemWithSummary(\n                        plan.id,\n                        data,\n                        (ox) => this.dailyPlanManager.calculateOxalateRisk(ox)\n                    );\n                }\n            });\n        });\n    }\n\n    async fetchDailyPlanSummary(dailyPlanId) {\n        try {\n            return await this.dailyPlanManager.getDailyPlan(dailyPlanId);\n        } catch (error) {\n            console.error('Error fetching daily plan summary:', error);\n            return null;\n        }\n    }\n\n    filterDailyPlans(searchTerm) {\n        const filtered = this.dailyPlanManager.filterDailyPlans(searchTerm);\n        this.renderDailyPlanList(filtered);\n    }\n\n    selectDailyPlan(dailyPlanId) {\n        DailyPlanRenderer.markAsSelected(dailyPlanId);\n        this.dailyPlanManager.selectDailyPlan(dailyPlanId);\n        setButtonsDisabled(['editDailyPlanBtn', 'deleteDailyPlanBtn'], false);\n    }\n\n    async showDailyPlanDetails(dailyPlanId) {\n        try {\n            const data = await this.dailyPlanManager.getDailyPlan(dailyPlanId);\n\n            DailyPlanRenderer.renderDetails(data, {\n                dailyRequirements: this.dailyRequirements,\n                userSettings: this.userSettings,\n                showAllNutrients: this.showAllDailyNutrients,\n                currentNutrientPage: this.currentDailyNutrientPage,\n                calculateOxalateRisk: (ox) => this.dailyPlanManager.calculateOxalateRisk(ox),\n                INGREDIENT_PROPS: Client.INGREDIENT_PROPS,\n                NUTRIENTS_PER_PAGE: this.NUTRIENTS_PER_PAGE\n            });\n        } catch (error) {\n            console.error('Error loading daily plan details:', error);\n            DailyPlanRenderer.showError('Failed to load daily plan details');\n        }\n    }\n\n    // Daily Plan CRUD Operations\n    createDailyPlan() {\n        this.dailyPlanManager.startEdit(null);\n        FormRenderer.setDailyPlanEditorTitle('Create New Daily Plan');\n        FormRenderer.clearDailyPlanForm();\n        DailyPlanRenderer.renderSelectedMenus([],\n            (index) => this.dailyPlanManager.removeMenuFromDailyPlan(index),\n            (index, type) => this.dailyPlanManager.updateMenuType(index, type)\n        );\n        FormRenderer.openDailyPlanEditor();\n    }\n\n    async editDailyPlan() {\n        if (!this.selectedDailyPlanId) return;\n\n        this.dailyPlanManager.startEdit(this.selectedDailyPlanId);\n\n        try {\n            const dailyPlan = await this.dailyPlanManager.getDailyPlan(this.selectedDailyPlanId);\n\n            FormRenderer.setDailyPlanEditorTitle('Edit Daily Plan');\n            document.getElementById('dailyPlanNameInput').value = dailyPlan.dailyPlanName;\n            document.getElementById('menuSearchBoxForDailyPlan').value = '';\n\n            // Convert dailyPlanMenus to the format needed for rendering\n            const menus = dailyPlan.menus.map(menu => ({\n                menuId: menu.menuId,\n                name: menu.name,\n                type: menu.type\n            }));\n\n            State.set('selectedMenusForDailyPlan', menus);\n            FormRenderer.openDailyPlanEditor();\n        } catch (error) {\n            console.error('Error loading daily plan for editing:', error);\n            alert('Failed to load daily plan details');\n        }\n    }\n\n    async deleteDailyPlan() {\n        if (!this.selectedDailyPlanId) return;\n\n        const dailyPlan = this.dailyPlans.find(dp => dp.id == this.selectedDailyPlanId);\n        if (!dailyPlan) return;\n\n        if (!confirm(`Delete daily plan \"${dailyPlan.name}\"? This cannot be undone.`)) {\n            return;\n        }\n\n        try {\n            await this.dailyPlanManager.deleteDailyPlan(this.selectedDailyPlanId);\n            this.renderDailyPlanList(this.dailyPlans);\n\n            this.dailyPlanManager.deselectDailyPlan();\n            setButtonsDisabled(['editDailyPlanBtn', 'deleteDailyPlanBtn'], true);\n            hideElement('dailyPlanDetailsSection');\n\n            alert('Daily plan deleted successfully');\n        } catch (error) {\n            console.error('Error deleting daily plan:', error);\n            alert('Failed to delete daily plan');\n        }\n    }\n\n    closeDailyPlanEditor() {\n        FormRenderer.closeDailyPlanEditor();\n        this.dailyPlanManager.cancelEdit();\n        FormRenderer.clearDailyPlanForm();\n        DailyPlanRenderer.hideMenuSearchResults();\n        FormRenderer.clearErrors();\n    }\n\n    async saveDailyPlan(event) {\n        event.preventDefault();\n\n        const dailyPlanName = document.getElementById('dailyPlanNameInput').value.trim();\n        const validation = this.validateDailyPlan(dailyPlanName, this.selectedMenusForDailyPlan);\n\n        if (!validation.valid) {\n            validation.errors.forEach(error => {\n                FormRenderer.showError(error.field, error.message);\n            });\n            return;\n        }\n\n        FormRenderer.clearErrors();\n\n        const payload = {\n            name: dailyPlanName,\n            dailyPlanMenus: this.selectedMenusForDailyPlan.map(menu => ({\n                menuId: menu.menuId,\n                type: menu.type\n            }))\n        };\n\n        try {\n            if (this.editingDailyPlanId) {\n                await this.dailyPlanManager.updateDailyPlan(this.editingDailyPlanId, payload);\n                alert('Daily plan updated successfully');\n                this.dailyPlanManager.selectDailyPlan(this.editingDailyPlanId);\n                await this.showDailyPlanDetails(this.editingDailyPlanId);\n            } else {\n                await this.dailyPlanManager.createDailyPlan(payload);\n                alert('Daily plan created successfully');\n                const newDailyPlan = this.dailyPlans.find(dp => dp.name === dailyPlanName);\n                if (newDailyPlan) {\n                    this.dailyPlanManager.selectDailyPlan(newDailyPlan.id);\n                    await this.showDailyPlanDetails(newDailyPlan.id);\n                }\n            }\n\n            this.renderDailyPlanList(this.dailyPlans);\n            this.closeDailyPlanEditor();\n        } catch (error) {\n            console.error('Error saving daily plan:', error);\n            FormRenderer.showError('menusError', error.message || 'Failed to save daily plan');\n        }\n    }\n\n    // Daily Plan Validation\n    validateDailyPlan(dailyPlanName, menus) {\n        const errors = [];\n\n        if (!dailyPlanName || dailyPlanName.trim().length === 0) {\n            errors.push({ field: 'dailyPlanNameError', message: 'Daily plan name is required' });\n        }\n\n        if (dailyPlanName && dailyPlanName.length > 64) {\n            errors.push({ field: 'dailyPlanNameError', message: 'Daily plan name cannot exceed 64 characters' });\n        }\n\n        if (!menus || menus.length === 0) {\n            errors.push({ field: 'menusError', message: 'At least one menu is required' });\n        }\n\n        return {\n            valid: errors.length === 0,\n            errors\n        };\n    }\n\n    // Menu Search for Daily Plan Editor\n    handleMenuSearchForDailyPlan(searchTerm) {\n        clearTimeout(this.menuSearchTimeout);\n\n        if (!searchTerm || searchTerm.trim().length < 2) {\n            DailyPlanRenderer.hideMenuSearchResults();\n            return;\n        }\n\n        this.menuSearchTimeout = setTimeout(() => {\n            this.performMenuSearchForDailyPlan(searchTerm.trim());\n        }, 300);\n    }\n\n    performMenuSearchForDailyPlan(searchTerm) {\n        const term = searchTerm.toLowerCase();\n        const results = this.menus.filter(menu =>\n            menu.name.toLowerCase().includes(term)\n        );\n\n        DailyPlanRenderer.renderMenuSearchResults(\n            results,\n            (menu) => this.addMenuToDailyPlan(menu)\n        );\n    }\n\n    addMenuToDailyPlan(menu) {\n        const added = this.dailyPlanManager.addMenuToDailyPlan(menu);\n\n        if (added) {\n            DailyPlanRenderer.hideMenuSearchResults();\n            document.getElementById('menuSearchBoxForDailyPlan').value = '';\n        }\n    }\n\n    // Daily Plan Nutrient View Navigation\n    toggleDailyNutrientView() {\n        const current = State.get('showAllDailyNutrients');\n        State.set('showAllDailyNutrients', !current);\n        State.set('currentDailyNutrientPage', 0);\n        if (this.selectedDailyPlanId) {\n            this.showDailyPlanDetails(this.selectedDailyPlanId);\n        }\n    }\n\n    prevDailyNutrientPage() {\n        const current = State.get('currentDailyNutrientPage');\n        if (current > 0) {\n            State.set('currentDailyNutrientPage', current - 1);\n            if (this.selectedDailyPlanId) {\n                this.showDailyPlanDetails(this.selectedDailyPlanId);\n            }\n        }\n    }\n\n    nextDailyNutrientPage() {\n        State.set('currentDailyNutrientPage', State.get('currentDailyNutrientPage') + 1);\n        if (this.selectedDailyPlanId) {\n            this.showDailyPlanDetails(this.selectedDailyPlanId);\n        }\n    }\n\n}\n\n// Initialize when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    window._client = new Client();\n    window._client.init();\n});"],
  "mappings": "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",
  "names": ["dailyPlanId", "dailyPlanId", "userSettings", "dailyPlanId"]
}
